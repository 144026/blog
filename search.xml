<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>博客GET</title>
    <url>/2020/08/01/%E5%8D%9A%E5%AE%A2get/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>新开的蒟蒻博客，可能会陆续上传些水文。</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200922111506.gif" alt="" /></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding="application/x-tex">\LaTeX</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.89883em;vertical-align:-0.2155em;"></span><span class="mord text"><span class="mord textrm">L</span><span class="mspace" style="margin-right:-0.36em;"></span><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.68333em;"><span style="top:-2.904999em;"><span class="pstrut" style="height:2.7em;"></span><span class="mord text"><span class="mord textrm sizing reset-size6 size3">A</span></span></span></span></span></span><span class="mspace" style="margin-right:-0.15em;"></span><span class="mord text"><span class="mord textrm">T</span><span class="mspace" style="margin-right:-0.1667em;"></span><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.46782999999999997em;"><span style="top:-2.7845em;"><span class="pstrut" style="height:3em;"></span><span class="mord text"><span class="mord textrm">E</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2155em;"><span></span></span></span></span><span class="mspace" style="margin-right:-0.125em;"></span><span class="mord textrm">X</span></span></span></span></span></span>测试:<br />
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mrow><mi>i</mi><mi>θ</mi></mrow></msup><mo>=</mo><mi>cos</mi><mo>⁡</mo><mi>θ</mi><mo>+</mo><mi>i</mi><mi>sin</mi><mo>⁡</mo><mi>θ</mi></mrow><annotation encoding="application/x-tex">e^{i \theta} = \cos{\theta} + i\sin{\theta}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.849108em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.849108em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">i</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">θ</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.77777em;vertical-align:-0.08333em;"></span><span class="mop">cos</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">i</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop">sin</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">θ</span></span></span></span></span></p>
<p>picgo的一个坑：重名名时间戳时，剪切板里的图片需要管理员权限。绝。</p>
]]></content>
      <categories>
        <category>其他</category>
        <category>杂文</category>
      </categories>
      <tags>
        <tag>划水</tag>
      </tags>
  </entry>
  <entry>
    <title>blasphemous</title>
    <url>/2020/08/27/%E5%A8%B1%E4%B9%90/blasphemous/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="0-简介"><a class="markdownIt-Anchor" href="#0-简介"></a> 0 简介</h1>
<a id="more"></a>

        <div id="aplayer-oFCJLJTV" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">
            <pre class="aplayer-lrc-content"></pre>
        </div>
        <script>
          var ap = new APlayer({
            element: document.getElementById("aplayer-oFCJLJTV"),
            narrow: false,
            autoplay: true,
            showlrc: false,
            music: {
              title: "Cinco Miradas Tiene La Aurora",
              author: "The Game Kitchen",
              url: "https://raw.githubusercontent.com/144026/rsrc/master/music/blasphemous/The%20Game%20Kitchen%20-%20Blasphemous-%20The%20Stir%20of%20Dawn%20-%2005%20Cinco%20Miradas%20Tiene%20La%20Aurora.mp3",
              pic: "https://raw.githubusercontent.com/144026/rsrc/master/music/blasphemous/cover.jpg",
              lrc: ""
            }
          });
          window.aplayers || (window.aplayers = []);
          window.aplayers.push(ap);
        </script>
<h1 id="1-游戏性"><a class="markdownIt-Anchor" href="#1-游戏性"></a> 1 游戏性</h1>
<h1 id="2-剧情"><a class="markdownIt-Anchor" href="#2-剧情"></a> 2 剧情</h1>
<h1 id="3-相关知识"><a class="markdownIt-Anchor" href="#3-相关知识"></a> 3 相关知识</h1>
<h2 id="31-语言相关"><a class="markdownIt-Anchor" href="#31-语言相关"></a> 3.1 语言相关</h2>
<p>一些英语词汇，几个古英语词汇，几个西班牙、拉丁语词汇。以及记录一些官方汉化中的优秀翻译。</p>
<h2 id="32-宗教-神学相关"><a class="markdownIt-Anchor" href="#32-宗教-神学相关"></a> 3.2 宗教、神学相关?</h2>
<h2 id="33-绘画相关"><a class="markdownIt-Anchor" href="#33-绘画相关"></a> 3.3 绘画相关</h2>
<p>很多玩家认为本作美术十分精良，但是我看不出来。更准确地说，我搞不清何为优秀的美术，需要略作了解。</p>
<h2 id="34-音乐相关"><a class="markdownIt-Anchor" href="#34-音乐相关"></a> 3.4 音乐相关</h2>
<p>同上。</p>
<h1 id="4-感想"><a class="markdownIt-Anchor" href="#4-感想"></a> 4 感想</h1>
]]></content>
      <categories>
        <category>娱乐</category>
        <category>游戏</category>
      </categories>
      <tags>
        <tag>gaming</tag>
      </tags>
  </entry>
  <entry>
    <title>数字信号处理</title>
    <url>/2020/09/23/%E7%9F%A5%E8%AF%86/%E6%95%B0%E5%AD%A6/%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>数字信号处理课程笔记。</p>
<a id="more"></a>
<h1 id="0-概述"><a class="markdownIt-Anchor" href="#0-概述"></a> 0 概述</h1>
<ul>
<li>专业基础课</li>
<li>prequisites：高数、复变函数、信号系统、随机过程</li>
</ul>
<p><strong>教学内容</strong><br />
重点3，4，5</p>
<p><strong>教学目标</strong></p>
<ul>
<li>DSP基本概念、理论、方法</li>
<li>打DSP设计、数字通信、现代数字信号处理</li>
</ul>
<p><strong>教学方式</strong></p>
<ul>
<li>教材
<ul>
<li>数字信号处理-姚天任，ed3</li>
<li>DSP, 奥本海姆</li>
</ul>
</li>
<li>工具：matlab 2009b/R2017a+</li>
</ul>
<p><strong>教学计划</strong><br />
40+8/3, 4/w, 12w</p>
<p><strong>课程考核</strong></p>
<ul>
<li>作业+实验 .3：2，3，4滞后一章交，5章讲</li>
<li>考试 .7：开卷</li>
</ul>
<h1 id="1-intro"><a class="markdownIt-Anchor" href="#1-intro"></a> 1 Intro</h1>
<ul>
<li>基本概念</li>
<li>DSP系统基本组成</li>
<li>学科背景</li>
</ul>
<h1 id="2-discrete-time-signals-and-systems"><a class="markdownIt-Anchor" href="#2-discrete-time-signals-and-systems"></a> 2 Discrete-Time Signals and Systems</h1>
<ul>
<li>离散信号、系统及其频域表示(数字频率,<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>π</mi></mrow><annotation encoding="application/x-tex">\pi</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span>为高频)，z变换、(系统函数?)</li>
</ul>
<h2 id="25-连续时间信号取样"><a class="markdownIt-Anchor" href="#25-连续时间信号取样"></a> 2.5 连续时间信号取样</h2>
<ul>
<li>周期延拓和取样定理</li>
</ul>
<p>冲击串进行采样</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>a</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi>p</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><mrow><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mi>δ</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\hat x_a(t)=x_a(t)p(t) = \sum\limits_n {x_a(t)\delta(t-nT)} \tag{2. 1}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3000100000000003em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span></span></span><span class="tag"><span class="strut" style="height:2.3000100000000003em;vertical-align:-1.250005em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p>
<p>冲击串的FT为</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi mathvariant="script">F</mi><mo fence="false">[</mo><munder><mo>∑</mo><mi>n</mi></munder><mi>δ</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><mo fence="false">]</mo><mo>=</mo><mi mathvariant="script">F</mi><mo fence="false">[</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munder><mo>∑</mo><mi>n</mi></munder><msup><mi>e</mi><mrow><mi>j</mi><mi>n</mi><mfrac><mrow><mn>2</mn><mi>π</mi></mrow><mi>T</mi></mfrac><mi>t</mi></mrow></msup><mo fence="false">]</mo><mo>=</mo><mfrac><mrow><mn>2</mn><mi>π</mi></mrow><mi>T</mi></mfrac><munder><mo>∑</mo><mi>n</mi></munder><mi>δ</mi><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo>−</mo><mi>n</mi><mfrac><mrow><mn>2</mn><mi>π</mi></mrow><mi>T</mi></mfrac><mo stretchy="false">)</mo></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\mathscr{F}\Big[\sum\limits_n \delta(t-nT)\Big]
=\mathscr{F}\Big[\frac{1}{T}\sum\limits_n e^{jn\frac{2\pi}{T} t}\Big] 
= \frac{2\pi}{T}\sum\limits_n \delta(\Omega - n\frac{2\pi}{T}) \tag{2. 2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.400005em;vertical-align:-1.250005em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class="mord"><span class="delimsizing size2">[</span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.80002em;vertical-align:-0.65002em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size2">]</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.5714449999999998em;vertical-align:-1.250005em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class="mord"><span class="delimsizing size2">[</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0040200000000001em;"><span style="top:-3.4130000000000003em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mathdefault mtight">n</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443142857142858em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span><span class="mord mathdefault mtight">t</span></span></span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size2">]</span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.5714449999999998em;vertical-align:-1.250005em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord">Ω</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:2.00744em;vertical-align:-0.686em;"></span><span class="mord mathdefault">n</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span><span class="tag"><span class="strut" style="height:2.5714449999999998em;vertical-align:-1.250005em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p>
<p>采样信号<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>a</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat x_a(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>的FT为</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mover accent="true"><mi>X</mi><mo>^</mo></mover><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>π</mi></mrow></mfrac><msub><mi>X</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo><mo>∗</mo><mi>P</mi><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><msub><mi>X</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo><mo>∗</mo><munder><mo>∑</mo><mi>r</mi></munder><mi>δ</mi><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mo>−</mo><mi>r</mi><msub><mi mathvariant="normal">Ω</mi><mi>s</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munder><mo>∑</mo><mi>r</mi></munder><msub><mi>X</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo>−</mo><mi>j</mi><mi>r</mi><msub><mi mathvariant="normal">Ω</mi><mi>s</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 3)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
\hat X_a(j\Omega)&amp;=\frac{1}{2\pi}X_a(j\Omega)*P(j\Omega)\\
&amp;=\frac{1}{T}X_a(j\Omega)*\sum\limits_r \delta(\Omega -r\Omega_s) \\
&amp;= \frac{1}{T}\sum\limits_r X_a(j\Omega -jr\Omega_s) 
\end{aligned}\tag{2. 3}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:8.05033em;vertical-align:-3.775165em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.275165em;"><span style="top:-6.275165em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span></span></span><span style="top:-3.967725em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"></span></span><span style="top:-1.0962800000000001em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.775165em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.275165em;"><span style="top:-6.275165em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span></span></span><span style="top:-3.967725em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord">Ω</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-1.0962800000000001em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:3.775165em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:8.05033em;vertical-align:-3.775165em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">3</span></span><span class="mord">)</span></span></span></span></span></span></p>
<ul>
<li>频率归一化</li>
</ul>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mover accent="true"><mi>x</mi><mo>^</mo></mover><mi>a</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\hat x_a(t)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.69444em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault">x</span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.22222em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span></span>的FT还可以表示为</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mover accent="true"><mi>X</mi><mo>^</mo></mover><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><mo>⋅</mo><mi mathvariant="script">F</mi><mo fence="false">[</mo><mi>δ</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><mo fence="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mi>n</mi><mi>T</mi></mrow></msup></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 4)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
\hat X_a(j\Omega)&amp;=\sum\limits_n x_a(nT)\cdot \mathscr{F}\big[\delta(t-nT)\big] \\ 
&amp;= \sum\limits_n x_a(nT)e^{-j\Omega nT} 
\end{aligned}\tag{2. 4}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.20002em;vertical-align:-2.35001em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.85001em;"><span style="top:-4.85001em;"><span class="pstrut" style="height:3.050005em;"></span><span class="mord"><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.050005em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.35001em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.85001em;"><span style="top:-4.85001em;"><span class="pstrut" style="height:3.050005em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.050005em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">Ω</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.35001em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:5.20002em;vertical-align:-2.35001em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">4</span></span><span class="mord">)</span></span></span></span></span></span></p>
<p>而<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">x(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>的FT为</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>X</mi><mo stretchy="false">(</mo><msup><mi>e</mi><mrow><mi>j</mi><mi>ω</mi></mrow></msup><mo stretchy="false">)</mo><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><mi>x</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mi>ω</mi><mi>n</mi></mrow></msup></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 5)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">X(e^{j\omega}) =\sum\limits_n x(n)e^{-j\omega n } \tag{2. 5}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.124664em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">ω</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.3000100000000003em;vertical-align:-1.250005em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">x</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">ω</span><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:2.3000100000000003em;vertical-align:-1.250005em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">5</span></span><span class="mord">)</span></span></span></span></span></span></p>
<p>故</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mi>X</mi><mo stretchy="false">(</mo><msup><mi>e</mi><mrow><mi>j</mi><mi>ω</mi></mrow></msup><mo stretchy="false">)</mo><msub><mi mathvariant="normal">∣</mi><mrow><mi>ω</mi><mo>=</mo><mi mathvariant="normal">Ω</mi><mi>T</mi></mrow></msub><mo>=</mo><msub><mover accent="true"><mi>X</mi><mo>^</mo></mover><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munder><mo>∑</mo><mi>r</mi></munder><msub><mi>X</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo>−</mo><mi>j</mi><mi>r</mi><msub><mi mathvariant="normal">Ω</mi><mi>s</mi></msub><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mi>T</mi></mfrac><munder><mo>∑</mo><mi>r</mi></munder><msub><mi>X</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mfrac><mi>ω</mi><mi>T</mi></mfrac><mo>−</mo><mi>j</mi><mi>r</mi><mfrac><mrow><mn>2</mn><mi>π</mi></mrow><mi>T</mi></mfrac><mo stretchy="false">)</mo></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 6)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
  X(e^{j\omega})|_{\omega =\Omega T} =\hat X_a(j\Omega) &amp;= \frac{1}{T}\sum\limits_r X_a(j\Omega -jr\Omega_s) \\
  &amp;= \frac{1}{T}\sum\limits_r X_a(j\frac{\omega}{T} -jr\frac{2\pi}{T}) 
\end{aligned}\tag{2. 6}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.742890000000001em;vertical-align:-2.6214450000000005em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.1214450000000005em;"><span style="top:-5.1214450000000005em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">ω</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord">∣</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.32833099999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">ω</span><span class="mrel mtight">=</span><span class="mord mtight">Ω</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span></span></span><span style="top:-2.2499999999999996em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.6214450000000005em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:3.1214450000000005em;"><span style="top:-5.1214450000000005em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span><span style="top:-2.2499999999999996em;"><span class="pstrut" style="height:3.32144em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.10756em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.6214450000000005em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:5.742890000000001em;vertical-align:-2.6214450000000005em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">6</span></span><span class="mord">)</span></span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>ω</mi><mo>=</mo><mi mathvariant="normal">Ω</mi><mi>T</mi><mo>=</mo><mfrac><mrow><mn>2</mn><mi>π</mi><mi>f</mi></mrow><msub><mi>f</mi><mi>s</mi></msub></mfrac></mrow><annotation encoding="application/x-tex">\omega = \Omega T =\frac{2\pi f}{f_s}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">ω</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Ω</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.4133239999999998em;vertical-align:-0.481108em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9322159999999999em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:-0.10764em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.446108em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mathdefault mtight" style="margin-right:0.10764em;">f</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.481108em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>，可以认为是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10764em;">f</span></span></span></span>对<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>f</mi><mi>s</mi></msub></mrow><annotation encoding="application/x-tex">f_s</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.10764em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>归一化之后的结果。</p>
<ul>
<li>信号重建</li>
</ul>
<p>使用低通滤波器</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><msub><mi>H</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo fence="true">{</mo><mtable rowspacing="0.3599999999999999em" columnalign="left left" columnspacing="1em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi>T</mi><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">Ω</mi><mi mathvariant="normal">∣</mi><mo>≤</mo><msub><mi mathvariant="normal">Ω</mi><mi>s</mi></msub><mi mathvariant="normal">/</mi><mn>2</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mn>0</mn><mo separator="true">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><mi mathvariant="normal">∣</mi><mi mathvariant="normal">Ω</mi><mi mathvariant="normal">∣</mi><mo>&gt;</mo><msub><mi mathvariant="normal">Ω</mi><mi>s</mi></msub><mi mathvariant="normal">/</mi><mn>2</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 7)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">H_a(j\Omega) =
\begin{cases}
  T, &amp; | \Omega | \le \Omega_s/2 \\
  0, &amp; | \Omega | \gt \Omega_s/2
\end{cases} \tag{2. 7}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size4">{</span></span><span class="mord"><span class="mtable"><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">0</span><span class="mpunct">,</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span><span class="arraycolsep" style="width:1em;"></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.69em;"><span style="top:-3.69em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">∣</span><span class="mord">Ω</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">2</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.008em;"></span><span class="mord"><span class="mord">∣</span><span class="mord">Ω</span><span class="mord">∣</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&gt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord">Ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">s</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.19em;"><span></span></span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span><span class="tag"><span class="strut" style="height:3.0000299999999998em;vertical-align:-1.25003em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">7</span></span><span class="mord">)</span></span></span></span></span></span></p>
<p>则有</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mtable rowspacing="0.24999999999999992em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><msup><mi mathvariant="script">F</mi><mrow><mo>−</mo><mn>1</mn></mrow></msup><mo fence="false">[</mo><msub><mover accent="true"><mi>X</mi><mo>^</mo></mover><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo><mo>⋅</mo><msub><mi>H</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">)</mo><mo fence="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>π</mi></mrow></mfrac><msubsup><mo>∫</mo><mrow><mo>−</mo><mi>π</mi><mi mathvariant="normal">/</mi><mi>T</mi></mrow><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mi>T</mi></mrow></msubsup><mi>T</mi><mo>⋅</mo><mi>X</mi><mo stretchy="false">(</mo><msup><mi>e</mi><mrow><mi>j</mi><mi mathvariant="normal">Ω</mi><mi>T</mi></mrow></msup><mo stretchy="false">)</mo><msup><mi>e</mi><mrow><mi>j</mi><mi mathvariant="normal">Ω</mi><mi>t</mi></mrow></msup><mi>d</mi><mi mathvariant="normal">Ω</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>π</mi></mrow></mfrac><msubsup><mo>∫</mo><mrow><mo>−</mo><mi>π</mi><mi mathvariant="normal">/</mi><mi>T</mi></mrow><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mi>T</mi></mrow></msubsup><mo fence="false">[</mo><mi>T</mi><munder><mo>∑</mo><mi>n</mi></munder><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><msup><mi>e</mi><mrow><mo>−</mo><mi>j</mi><mo stretchy="false">(</mo><mi mathvariant="normal">Ω</mi><mi>T</mi><mo stretchy="false">)</mo><mi>n</mi></mrow></msup><mo fence="false">]</mo><msup><mi>e</mi><mrow><mi>j</mi><mi mathvariant="normal">Ω</mi><mi>t</mi></mrow></msup><mi>d</mi><mi mathvariant="normal">Ω</mi></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><mo fence="false">[</mo><mfrac><mi>T</mi><mrow><mn>2</mn><mi>π</mi></mrow></mfrac><msubsup><mo>∫</mo><mrow><mo>−</mo><mi>π</mi><mi mathvariant="normal">/</mi><mi>T</mi></mrow><mrow><mi>π</mi><mi mathvariant="normal">/</mi><mi>T</mi></mrow></msubsup><msup><mi>e</mi><mrow><mi>j</mi><mi mathvariant="normal">Ω</mi><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></msup><mi>d</mi><mi mathvariant="normal">Ω</mi><mo fence="false">]</mo></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><munder><mo>∑</mo><mi>n</mi></munder><msub><mi>x</mi><mi>a</mi></msub><mo stretchy="false">(</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><mfrac><mrow><mi>s</mi><mi>i</mi><mi>n</mi><mo stretchy="false">[</mo><mfrac><mi>π</mi><mi>T</mi></mfrac><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo><mo stretchy="false">]</mo></mrow><mrow><mfrac><mi>π</mi><mi>T</mi></mfrac><mo stretchy="false">(</mo><mi>t</mi><mo>−</mo><mi>n</mi><mi>T</mi><mo stretchy="false">)</mo></mrow></mfrac></mrow></mstyle></mtd></mtr></mtable></mtd><mtd width="50%"></mtd><mtd><mtext>(2. 8)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}
x_a(t) &amp; = \mathscr{F}^{-1}\big[\hat X_a(j\Omega)\cdot H_a(j\Omega)\big]\\
&amp; = \frac{1}{2\pi} \int_{-\pi/T}^{\pi/T} T\cdot X(e^{j\Omega T}) e^{j\Omega t} d\Omega \\
&amp; = \frac{1}{2\pi} \int_{-\pi/T}^{\pi/T} \Big[T\sum\limits_n x_a(nT) e^{-j(\Omega T)n}\Big] e^{j\Omega t} d\Omega \\
&amp; = \sum\limits_n x_a(nT) \Big[\frac{T}{2\pi} \int_{-\pi/T}^{\pi/T} e^{j\Omega(t-nT)} d\Omega \Big] \\
&amp; = \sum\limits_n x_a(nT) \frac{sin[\frac{\pi}{T}(t-nT)]}{\frac{\pi}{T}(t-nT)} 
\end{aligned} \tag{2. 8}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:14.042435000000001em;vertical-align:-6.7712175em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.2712175000000006em;"><span style="top:-9.9623475em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mclose">)</span></span></span><span style="top:-7.6644475000000005em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"></span></span><span style="top:-4.639597500000001em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"></span></span><span style="top:-1.4516925000000005em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"></span></span><span style="top:1.5833124999999995em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.7712175em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:7.2712175000000006em;"><span style="top:-9.9623475em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mord"><span class="mord mathscr" style="margin-right:0.13634em;">F</span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.864108em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">1</span></span></span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size1">[</span></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9467699999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span><span style="top:-3.25233em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.16666em;">^</span></span></span></span></span></span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.07847em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.08125em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord">Ω</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size1">]</span></span></span></span><span style="top:-7.6644475000000005em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6379000000000004em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0869499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span><span class="mopen">(</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">Ω</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">Ω</span><span class="mord mathdefault mtight">t</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord">Ω</span></span></span><span style="top:-4.639597500000001em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.32144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6379000000000004em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0869499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="delimsizing size2">[</span></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mopen mtight">(</span><span class="mord mtight">Ω</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span><span class="mord"><span class="delimsizing size2">]</span></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.891331em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">Ω</span><span class="mord mathdefault mtight">t</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord">Ω</span></span></span><span style="top:-1.4516925000000005em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord"><span class="delimsizing size2">[</span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.36033em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.03588em;">π</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6379000000000004em;"><span style="top:-1.7880500000000004em;margin-left:-0.44445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span><span class="mord mtight">/</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0869499999999999em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.05724em;">j</span><span class="mord mtight">Ω</span><span class="mopen mtight">(</span><span class="mord mathdefault mtight">t</span><span class="mbin mtight">−</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord mathdefault">d</span><span class="mord">Ω</span><span class="mord"><span class="delimsizing size2">]</span></span></span></span><span style="top:1.5833124999999995em;"><span class="pstrut" style="height:3.6379em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.050005em;"><span style="top:-1.8999949999999999em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span><span style="top:-3.0500049999999996em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.250005em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.4849999999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.7350000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">s</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span><span class="mopen">[</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.695392em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.03588em;">π</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mopen">(</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">n</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mclose">]</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.0310000000000001em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:6.7712175em;"><span></span></span></span></span></span></span></span></span><span class="tag"><span class="strut" style="height:14.042435000000001em;vertical-align:-6.7712175em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span><span class="mord">.</span><span class="mord"> </span><span class="mord">8</span></span><span class="mord">)</span></span></span></span></span></span></p>
<h1 id="3-dftfft"><a class="markdownIt-Anchor" href="#3-dftfft"></a> 3 DFT&amp;FFT</h1>
<h1 id="4-df"><a class="markdownIt-Anchor" href="#4-df"></a> 4 DF</h1>
<h1 id="5-discrete-time-random-signal"><a class="markdownIt-Anchor" href="#5-discrete-time-random-signal"></a> 5 Discrete-Time Random Signal</h1>
<h1 id="6-fwl-effect"><a class="markdownIt-Anchor" href="#6-fwl-effect"></a> 6 FWL Effect*</h1>
<h1 id="7-power-spectrum-estimationclassical-methods"><a class="markdownIt-Anchor" href="#7-power-spectrum-estimationclassical-methods"></a> 7 Power Spectrum Estimation(Classical Methods)*</h1>
]]></content>
      <categories>
        <category>知识</category>
        <category>数学</category>
      </categories>
      <tags>
        <tag>DSP</tag>
      </tags>
  </entry>
  <entry>
    <title>微机原理课程总结</title>
    <url>/2020/08/19/%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA/MCU-and-Embedded-System/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="0-前言"><a class="markdownIt-Anchor" href="#0-前言"></a> 0 前言</h1>
<p>尽量系统地回顾课程内容，巩固相关知识，总结一些用到的方法，揣测这门课培养的思维模式。</p>
<a id="more"></a>
<h1 id="1-实验梳理"><a class="markdownIt-Anchor" href="#1-实验梳理"></a> 1 实验梳理</h1>
<p>本课程的实验需要用到：</p>
<ul>
<li>hardware: 开发板，包括PIC16F18854芯片x1，LEDx1，4位共阴极数码管，机械按键x11(包括复位键)，触摸按键x3，TMP75芯片x1，micro-USB接口x1，杜邦线若干</li>
<li>software: MPLAB-ver5.20，mplab-data-visualizer，xc8-ver2.20，putty/org-dian.nbm</li>
<li>document: 开箱测试、插件安装文档，微机原理课件，PIC16F18854、TMP75AIDGKR数据手册</li>
<li>management: word，ppt，tx会议，git</li>
</ul>
<h2 id="11-闪灯"><a class="markdownIt-Anchor" href="#11-闪灯"></a> 1.1 闪灯</h2>
<h3 id="111-软件延时"><a class="markdownIt-Anchor" href="#111-软件延时"></a> 1.1.1 软件延时</h3>
<p>发光二极管的阳极 D1 接 RB0， TRISB 设置为输出，ANSELB 设置为数字模式。通过 defsz和 goto语句构成循环，每隔一段时间翻转 PORTB(或LATB)。</p>
<p><strong>注意</strong>：写PORTB和LATB是等效的，但是读PORTB是端口实际电平，读LATB是输出锁存。例如仿真翻转LATB时，PORTB窗口监视值不改变。</p>
<h3 id="112-定时器查询"><a class="markdownIt-Anchor" href="#112-定时器查询"></a> 1.1.2 定时器查询</h3>
<p><strong>参数计算</strong></p>
<p>时钟源<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>F</mi><mrow><mi>o</mi><mi>s</mi><mi>c</mi></mrow></msub><mi mathvariant="normal">/</mi><mn>4</mn><mo>=</mo><mn>1</mn><mtext> </mtext><mi>M</mi><mi>H</mi><mi>z</mi></mrow><annotation encoding="application/x-tex">F_{osc}/4=1\ MHz</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">F</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">c</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord">/</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.10903em;">M</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub><mo>=</mo><mn>1</mn><mtext> </mtext><mi>u</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">T_{cy}=1\ us</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mspace"> </span><span class="mord mathdefault">u</span><span class="mord mathdefault">s</span></span></span></span>，Timer0(配置参考datasheet 27.0节)选择8位模式，可精确计数499.712ms；选择16 位模式，可精确计数500ms。计算公式为</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>=</mo><msub><mi>N</mi><mrow><mi>p</mi><mi>r</mi><mi>e</mi></mrow></msub><mo>⋅</mo><mtext> </mtext><msub><mi>N</mi><mrow><mi>c</mi><mi>n</mi><mi>t</mi></mrow></msub><mo>⋅</mo><mtext> </mtext><msub><mi>N</mi><mrow><mi>p</mi><mi>o</mi><mi>s</mi><mi>t</mi></mrow></msub><mo>⋅</mo><mtext> </mtext><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{cnt}=N_{pre} \cdot\ N_{cnt} \cdot\ N_{post} \cdot\ T_{cy}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight" style="margin-right:0.02778em;">r</span><span class="mord mathdefault mtight">e</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span></span><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.28055599999999997em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">p</span><span class="mord mathdefault mtight">o</span><span class="mord mathdefault mtight">s</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span></span></p>
<p>为了方便由<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>c</mi><mi>n</mi><mi>t</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N_{cnt}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.2805559999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight">n</span><span class="mord mathdefault mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>计算出Timer的置数值，可以使用如下宏定义</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">TMRCNT	EQU 50000</span><br><span class="line">TMRVAL  EQU (.65536−TMRCNT)	;&#39;.&#39;表示十进制</span><br><span class="line">TMRHVAL EQU HIGH(TMRVAL)</span><br><span class="line">TMRLVAL EQU LOW(TMRVAL)</span><br></pre></td></tr></table></figure>
<p><strong>可重定位的汇编代码</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">RST code        BLOFFSET	;Bootloader Offset</span><br><span class="line">    pagesel     main</span><br><span class="line">    goto        main</span><br><span class="line"></span><br><span class="line">    code</span><br><span class="line">main</span><br><span class="line">	goto main</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p><strong>程序流程</strong></p>
<p>计数完成时TMR0IF自动置位，循环查询即可实现定时，如下图</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200824195720.png" alt="" /></p>
<p>由于PIC16F18854的Timer0具有T0OUT位，可以选择查询T0OUT，或者直接把T0OUT同步到PORTB。采用查询T0OUT方式的流程如下</p>
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200823012617.png" style="zoom: 150%;" />
<p>直接同步T0OUT的流程如下</p>
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200825092318.jpg" style="zoom:80%;" />
<p><strong>误差控制</strong></p>
<p>直接置数会造成<strong>漏计</strong>，导致实际计数周期<strong>大于</strong><code>TMRCNT</code>个指令周期，这可以通过调整置数值进行补偿，但并没有从根本上解决问题。</p>
<p>先停止Timer，用置数值加上溢出后的计数，加上Timer停止的时间，再启动Timer就可以<strong>消除</strong>漏计。程序如下</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">banksel T0CON0</span><br><span class="line">label1</span><br><span class="line">    bcf     T0CON0, T0EN	;先停止Timer</span><br><span class="line">    </span><br><span class="line">    movlw   0x0</span><br><span class="line">    addwf   TMR0H, f		;必须先读一次TMR0H来更新它的值?</span><br><span class="line">    </span><br><span class="line">    movlw   TMRLVAL</span><br><span class="line">    addwf   TMR0L, f		;低位预置值+溢出的计数</span><br><span class="line">    btfsc   STATUS, C</span><br><span class="line">    incf    TMR0H			;处理进位</span><br><span class="line">    </span><br><span class="line">    movlw   (label2−label1)</span><br><span class="line">    addwf   TMR0L, f		;再加上Timer停止的时间</span><br><span class="line">    movlw   TMRHVAL</span><br><span class="line">    addfc  TMR0H, f			;高位预置值+溢出的计数+进位</span><br><span class="line">    </span><br><span class="line">    movlw   0x0</span><br><span class="line">    addwf   TMR0L, f		;写TMR0L使TMR0H的更新生效</span><br><span class="line">label2 :</span><br><span class="line">    bsf     T0CON0, T0EN	</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong>：TMR0H实际上是Timer0高8位的一个<strong>缓冲</strong>寄存器，这是为了能同步读写16位的计数值。读TMR0L时，Timer0的高8位才会被缓冲进TMR0H；写TMR0L时，才会把TMR0H的值更新到Timer高8位。(但在仿真中，出现了读TMR0L后，TMR0H并未更新的情况，必须先读一次TMR0H才会更新)</p>
<p>消除漏计后，发现仿真跑表结果在500.000ms左右<strong>周期性抖动</strong>。这是由于计数每<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">cnt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span></span></span></span>个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{cy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>溢出一次，而主程序每<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{cy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>只进行一次查询，这导致检测的溢出会落后<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>l</mi><mi>a</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N_{lag}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub><mtext>  </mtext><mo stretchy="false">(</mo><mn>0</mn><mo>≤</mo><msub><mi>N</mi><mrow><mi>l</mi><mi>a</mi><mi>g</mi></mrow></msub><mo>&lt;</mo><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T_{cy}\ \ (0\leq N_{lag}\lt m)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span>。显然，只有当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">cnt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span></span></span></span>能被<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span></span></span></span>整除时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>l</mi><mi>a</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N_{lag}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>才保持不变，跑表结果不发生抖动。进一步考虑到检测到溢出后，从跳出循环执行动作，到跳回到检测语句需要<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span>个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{cy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>，则当且仅当</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mi>k</mi><mo>⋅</mo><mtext> </mtext><mi>m</mi><mo>+</mo><mo stretchy="false">(</mo><mi>c</mi><mi>n</mi><mi>t</mi><mspace></mspace><mspace width="1em"/><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>m</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">n=k \cdot\ m +(cnt\mod m)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mspace"> </span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathdefault">c</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span><span class="mspace allowbreak"></span><span class="mspace" style="margin-right:1em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord"><span class="mord mathrm">m</span><span class="mord mathrm">o</span><span class="mord mathrm">d</span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">m</span><span class="mclose">)</span></span></span></span></span></p>
<p>时，跑表结果不变。其中k为非负整数。</p>
<h3 id="113-定时器中断查询"><a class="markdownIt-Anchor" href="#113-定时器中断查询"></a> 1.1.3 定时器中断查询</h3>
<p>用中断方式控制闪灯，同时使用电平变化中断IOC(Interrupt On Change)改变闪灯速率。</p>
<p><strong>实验配置</strong></p>
<p>开启TMR0IE，将控制LED电平和Timer0置位的的部分移入ISR(Interrupt Service Routine)，在主程序循环等待中断，就可以实现中断闪灯。</p>
<p>实现IOC的电路如下，按键K按下后，输入I/O端口的电平出现下降沿。</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200825093032.png" alt="" /></p>
<p>IOC配置直接参考数据手册即可。</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200825093605.png" alt="" /></p>
<p><strong>程序流程</strong></p>
<p>主程序流程如下，其中RB0用于驱动LED发光，PORTC用于检测按下AN8/AN10产生的IOC。</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200825094745.png" alt="" /></p>
<p>ISR流程如下，采用软件辅助计数的方式，计数器每溢出<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>次(初始值为10)改变一次LED电平；发生IOC时，改变<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi></mrow><annotation encoding="application/x-tex">N</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span></span></span></span>的值来改变闪烁速率。</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200825095124.png" alt="" /></p>
<p>然而上述ISR程序存在如下问题：</p>
<ul>
<li>当两个或多个中断同时到来时，只能处理一种中断，并且ISR退出时没有清理其他中断的IF标志位。</li>
<li>中断程序没有立刻清理IF标志位。若在ISR执行时发生其他中断，进入中断嵌套(尽管PIC16F18854不支持，但仍应该考虑)，会再次处理没有清理标志位的中断。</li>
</ul>
<p>更合理的的ISR结构如下</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200825101348.jpg" alt="" /></p>
<p><strong>误差控制</strong></p>
<p>消除漏计后，同样存在跑表结果周期性抖动的问题。这是由于计数每<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>c</mi><mi>n</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">cnt</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.61508em;vertical-align:0em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">n</span><span class="mord mathdefault">t</span></span></span></span>个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub></mrow><annotation encoding="application/x-tex">T_{cy}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>溢出一次，而中断并不能随意打断多周期指令，即计数中断也会落后<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>l</mi><mi>a</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N_{lag}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>个<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>T</mi><mrow><mi>c</mi><mi>y</mi></mrow></msub><mtext>  </mtext><mo stretchy="false">(</mo><mn>0</mn><mo>≤</mo><msub><mi>N</mi><mrow><mi>l</mi><mi>a</mi><mi>g</mi></mrow></msub><mo>&lt;</mo><mn>2</mn><mo>∼</mo><mn>4</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">T_{cy}\ \ (0\leq N_{lag}\lt 2\sim 4)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.036108em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">c</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">y</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace"> </span><span class="mspace"> </span><span class="mopen">(</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">4</span><span class="mclose">)</span></span></span></span>。只有<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>N</mi><mrow><mi>l</mi><mi>a</mi><mi>g</mi></mrow></msub></mrow><annotation encoding="application/x-tex">N_{lag}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.969438em;vertical-align:-0.286108em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361079999999999em;"><span style="top:-2.5500000000000003em;margin-left:-0.10903em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.01968em;">l</span><span class="mord mathdefault mtight">a</span><span class="mord mathdefault mtight" style="margin-right:0.03588em;">g</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span></span></span></span>保持不变时，才不会产生抖动。通过添加nop指令，Timer的中断在单周期指令处发生就可以避免问题。</p>
<p>按键按下一次时往往有几个ms的抖动，多次触发IOC，因此需要<strong>消抖</strong>。可以在每次触发IOC时关闭使能，隔一段时间(例如Timer0中断2次)再打开使能。</p>
<h2 id="12-数码管显示"><a class="markdownIt-Anchor" href="#12-数码管显示"></a> 1.2 数码管显示</h2>
<h2 id="13-按键检测"><a class="markdownIt-Anchor" href="#13-按键检测"></a> 1.3 按键检测</h2>
<h2 id="14-ad转换"><a class="markdownIt-Anchor" href="#14-ad转换"></a> 1.4 AD转换</h2>
<h2 id="15-串口通信"><a class="markdownIt-Anchor" href="#15-串口通信"></a> 1.5 串口通信</h2>
<h3 id="151-i2c"><a class="markdownIt-Anchor" href="#151-i2c"></a> 1.5.1 I2C</h3>
<h3 id="151-eusart"><a class="markdownIt-Anchor" href="#151-eusart"></a> 1.5.1 EUSART</h3>
<h1 id="2-知识归纳"><a class="markdownIt-Anchor" href="#2-知识归纳"></a> 2 知识归纳</h1>
<h1 id="3-方法论和思维模式"><a class="markdownIt-Anchor" href="#3-方法论和思维模式"></a> 3 方法论和思维模式</h1>
<h1 id="4-收获与心得"><a class="markdownIt-Anchor" href="#4-收获与心得"></a> 4 收获与心得</h1>
<h1 id="5-疑难问题与解决"><a class="markdownIt-Anchor" href="#5-疑难问题与解决"></a> 5 疑难问题与解决</h1>
<h1 id="6-对课程的意见和建议"><a class="markdownIt-Anchor" href="#6-对课程的意见和建议"></a> 6 对课程的意见和建议</h1>
<p>我常常认为，无法提出条理清晰的意见和建议，等同于欠缺理解。我还不够理解这门课程：课程的目的，学生为此需要掌握什么，如何据此设计课程内容，如何教学，如何把握课程进度，如何控制教学质量等等，因此暂不作评价。</p>
<h1 id="7-后记"><a class="markdownIt-Anchor" href="#7-后记"></a> 7 后记</h1>
]]></content>
      <categories>
        <category>知识</category>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>微机原理</tag>
        <tag>嵌入式</tag>
        <tag>PIC单片机</tag>
      </tags>
  </entry>
  <entry>
    <title>一道Perl逆向入门题</title>
    <url>/2020/08/02/%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA/WMCTF2020-easy-re/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="1-perl与反编译"><a class="markdownIt-Anchor" href="#1-perl与反编译"></a> 1 Perl与反编译</h1>
<p>Perl是解释型语言，要保护其源码，常用的方法有：</p>
<ul>
<li>先将Perl代码转换成C代码，再由C代码得到可执行程序，例如perlcc。反编译的得到的源码不容易看懂。</li>
<li>将Perl代码和解释器打包成可执行文件，实际执行时将Perl代码提取出来，交给解释器执行，例如PAR(Perl Archive Toolkit)。可以动态调试得到Perl代码。</li>
</ul>
<a id="more"></a>
<h1 id="2-题目"><a class="markdownIt-Anchor" href="#2-题目"></a> 2 题目</h1>
<p>题目取自WMCTF2020，提示内容如下<br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200801160053.png" alt="" /></p>
<p>下载程序，运行如下<br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200801160317.png" style="zoom:150%;" /></p>
<p>查看PE信息为64位程序，ida64反编译的C源码效果不佳。使用x64dbg进行断点调试。</p>
<ol>
<li><code>F9</code>执行到出现上述输入提示，<code>F2</code>下断点。</li>
<li><code>Ctrl</code>+<code>F2</code>重新载入，<code>F9</code>执行到断点处，<code>F7</code>进入。</li>
<li>重复步骤1和2，找到下一层的断点。</li>
</ol>
<p>很快注意到如下代码段<br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200801160402.png" alt="" /></p>
<p>内存中跟随rax的值<br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200801160418.png" style="zoom:200%;" /></p>
<p>随后的代码段直接通过rax返回了Perl脚本<br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200801160448.png" alt="" /></p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200801160508.png" alt="" /></p>
<p>得到flag为<code>WMCTF&#123;I_WAnt_dynam1c_F1ag&#125;</code></p>
]]></content>
      <categories>
        <category>知识</category>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>CTF</tag>
        <tag>Reverse</tag>
        <tag>Perl</tag>
      </tags>
  </entry>
  <entry>
    <title>计算机网络</title>
    <url>/2020/09/21/%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>计算机网络课程学习笔记。</p>
<a id="more"></a>
<h1 id="0-课程概述"><a class="markdownIt-Anchor" href="#0-课程概述"></a> 0 课程概述</h1>
<p><strong>教学内容</strong></p>
<ul>
<li>knowledge/工作原理：协议、架构、应用</li>
<li>skills/网络编程：wireshark、socket、ns3网络仿真、设计和实现协议</li>
<li>insights/关键概念：协议、分层、资源分配、命令(?)</li>
</ul>
<p><strong>教学目标</strong></p>
<ul>
<li>计网核心概念和原理 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span> 架构与协议设计</li>
<li>网络及主要通信协议的性能 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span> 性能评估</li>
<li>网络通信的研究方法 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span> 系统方法：目标、需求、设计、实现、测试、评估</li>
</ul>
<p><strong>教学方式</strong></p>
<ul>
<li>平台：微助教等</li>
<li>教材：计网-系统方法、计网-自顶向下、计网-分层方法</li>
<li>工具：wireshark, ns3, etc.</li>
</ul>
<p><strong>教学计划</strong></p>
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20200921193139.png" style="zoom:50%;" />
<p><strong>课程考核</strong></p>
<ul>
<li>基本
<ul>
<li>平时 .3
<ul>
<li>作业 .2</li>
<li>笔记 .1</li>
</ul>
</li>
<li>考试 .4</li>
<li>课程设计 .3</li>
</ul>
</li>
<li>奖励分 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≤</mo></mrow><annotation encoding="application/x-tex">\leq</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≤</span></span></span></span> .05
<ul>
<li>赛课结合</li>
<li>小讲师志愿者</li>
</ul>
</li>
</ul>
<h1 id="1-计网基础"><a class="markdownIt-Anchor" href="#1-计网基础"></a> 1 计网基础</h1>
<p>如何建造一个计算机网络?</p>
<p><strong>系统方法</strong></p>
<ol>
<li>研究目标：计算机网络系统</li>
<li>需求分析：预期与手段</li>
<li>系统设计：体系结构 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 模块设计</li>
<li>系统实现：软件、硬件…</li>
<li>系统测试：评估优化</li>
</ol>
<h2 id="11-目标"><a class="markdownIt-Anchor" href="#11-目标"></a> 1.1 目标</h2>
<p>互联网是什么?</p>
<ul>
<li>系统观点
<ul>
<li>拓扑：节点、链路。冗余链路提升可靠性。</li>
<li>通信：协议</li>
</ul>
</li>
<li>服务观点
<ul>
<li>提供应用间通信。可靠/不可靠(Best effort)传输。</li>
</ul>
</li>
</ul>
<p>如何设计?</p>
<ul>
<li>链路+节点 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span> 高效通信</li>
<li>架构、协议、应用、接口、管理</li>
</ul>
<h2 id="12-需求分析"><a class="markdownIt-Anchor" href="#12-需求分析"></a> 1.2 需求分析</h2>
<h3 id="121-可扩展的连通性网络拓扑"><a class="markdownIt-Anchor" href="#121-可扩展的连通性网络拓扑"></a> 1.2.1 可扩展的连通性——网络拓扑</h3>
<p>节点间如何连接，以保证良好的可拓展性?</p>
<ul>
<li>
<p>节点：计算机/中继设备。链路：连接节点的传输媒质。</p>
<ul>
<li>网络节点如何分配地址，如何寻址?</li>
</ul>
</li>
<li>
<p>直连/间接连接：点到点、多点访问链路/<strong>交换网络</strong></p>
<ul>
<li>如何利用节点地址，实现报文转发?</li>
</ul>
</li>
<li>
<p>网络互联：多个网络+路由/网关 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span> 网络的递归定义</p>
</li>
<li>
<p>可扩展性：如何估算网络的效用? <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>η</mi><mo>∝</mo><msup><mi>n</mi><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">\eta \propto n^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">η</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">∝</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">n</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>
</li>
</ul>
<h3 id="122-高性价比的连通性交换方式"><a class="markdownIt-Anchor" href="#122-高性价比的连通性交换方式"></a> 1.2.2 高性价比的连通性——交换方式</h3>
<p><strong>需求</strong></p>
<ul>
<li>所有主机同时交换信息</li>
<li>及时响应突发通信</li>
<li>有效、公平共享网络资源</li>
</ul>
<p>交换网络和复用技术</p>
<ul>
<li>无交换/星状交换/…</li>
<li>无复用/时分复用/频分复用/码分复用/统计复用…</li>
</ul>
<p><strong>电路交换</strong></p>
<ol>
<li>特点</li>
</ol>
<ul>
<li>发起通信时，建立端到端专用电路，直接传输raw data比特流；结束时自动释放链路。
<ul>
<li>专用资源，不共享</li>
<li>必须先建立呼叫连接</li>
</ul>
</li>
<li>时分/频分网络资源，固定平均分配</li>
</ul>
<ol start="2">
<li>时序图<br />
ppt</li>
<li>方案评估</li>
</ol>
<p><strong>分组交换</strong></p>
<ol>
<li>特点</li>
</ol>
<ul>
<li>端到端分组(数据包)传输，分组在路由中存储、排队转发，每个包享有全部网络带宽
<ul>
<li>路由需要标识分组、计算转发路径 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span> <strong>header+分组数据</strong></li>
<li>排队产生时延</li>
<li>拥塞导致(路由器缓存溢出)丢包</li>
</ul>
</li>
<li>统计复用网络资源：资源分配(传输的是谁的数据包)没有固定模式，各取所需</li>
</ul>
<ol start="2">
<li>时序图<br />
ppt</li>
<li>方案评估</li>
</ol>
<p>报文交换<br />
可以理解为只使用一个分组的分组交换。</p>
<p><strong>总结</strong></p>
<ul>
<li>分组交换、统计复用：适合计算机通信(突发、随机)，资源利用率高</li>
<li>挑战：路由节点缓存耗尽 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>→</mo></mrow><annotation encoding="application/x-tex">\rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">→</span></span></span></span> 拥塞；分组交换服务质量无保障。</li>
</ul>
<h3 id="123-支持通用服务-赢者通吃"><a class="markdownIt-Anchor" href="#123-支持通用服务-赢者通吃"></a> 1.2.3 支持通用服务 赢者通吃</h3>
<p>如何支持大多数应用需求？</p>
<ul>
<li>需求抽象 -&gt; 基本通信模式
<ul>
<li>request/reponse 离散、突发</li>
<li>streaming 连续、稳定</li>
</ul>
</li>
</ul>
<p>现实网络条件下支持不同的应用。-&gt; 故障处理</p>
<ul>
<li>比特级：电磁干扰。</li>
<li>分组级：拥塞丢包/比特错误拒收。 丢失还是延迟？(timeout?)</li>
<li>节点/链路级：主机故障如何判断？</li>
</ul>
<h3 id="124-可管理性"><a class="markdownIt-Anchor" href="#124-可管理性"></a> 1.2.4 可管理性</h3>
<ul>
<li>管理规模扩展</li>
<li>如何扩大以承载更多流量？</li>
<li>更多用户加入如何管理？</li>
<li>如何管理网络故障？</li>
</ul>
<h2 id="13-开始设计-architecture"><a class="markdownIt-Anchor" href="#13-开始设计-architecture"></a> 1.3 开始设计 Architecture</h2>
<p>分层的优缺点？</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[+] 每层解决一部分问题。</span><br><span class="line">[+] 易拓展。提供统一硬件接口，新增单个应用、硬件接口的开发量减少。</span><br><span class="line">[-] 多层嵌套降低效率。</span><br></pre></td></tr></table></figure>
<h3 id="131-一些概念"><a class="markdownIt-Anchor" href="#131-一些概念"></a> 1.3.1 一些概念</h3>
<ul>
<li>实体、协议、P2P</li>
</ul>
<h1 id="2-osi模型"><a class="markdownIt-Anchor" href="#2-osi模型"></a> 2 OSI模型</h1>
<h1 id="开始连接"><a class="markdownIt-Anchor" href="#开始连接"></a> 开始连接</h1>
<h1 id="应用"><a class="markdownIt-Anchor" href="#应用"></a> 应用</h1>
<h2 id="传统应用"><a class="markdownIt-Anchor" href="#传统应用"></a> 传统应用</h2>
<h3 id="电子邮件"><a class="markdownIt-Anchor" href="#电子邮件"></a> 电子邮件</h3>
<p>SMTP、POP、IMAP</p>
<h3 id="万维网"><a class="markdownIt-Anchor" href="#万维网"></a> 万维网</h3>
<p>HTTP</p>
<h3 id="web服务"><a class="markdownIt-Anchor" href="#web服务"></a> Web服务</h3>
<h2 id="多媒体应用"><a class="markdownIt-Anchor" href="#多媒体应用"></a> 多媒体应用</h2>
<h2 id="基础服务"><a class="markdownIt-Anchor" href="#基础服务"></a> 基础服务</h2>
<h3 id="dns"><a class="markdownIt-Anchor" href="#dns"></a> DNS</h3>
<p>DNS解析<br />
迭代查询<br />
递归查询</p>
<p>DNS：缓存和更新记录</p>
<h2 id="覆盖网络"><a class="markdownIt-Anchor" href="#覆盖网络"></a> 覆盖网络</h2>
<p>CS/P2P<br />
需求：可靠/带宽/时延</p>
<p>CS/P2P数学模型<br />
BitTorrent<br />
skype<br />
CDN</p>
]]></content>
      <categories>
        <category>知识</category>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>计网</tag>
      </tags>
  </entry>
  <entry>
    <title>日志</title>
    <url>/2020/09/20/%E6%97%A5%E5%BF%97/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>9.20, 2020 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∼</mo></mrow><annotation encoding="application/x-tex">\sim</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">∼</span></span></span></span></p>
<a id="more"></a>
<h1 id="2020"><a class="markdownIt-Anchor" href="#2020"></a> 2020</h1>
<h2 id="2020-9"><a class="markdownIt-Anchor" href="#2020-9"></a> 2020-9</h2>
<h3 id="2020-9-20"><a class="markdownIt-Anchor" href="#2020-9-20"></a> 2020-9-20</h3>
<p>内容:</p>
<ol>
<li>记录romance前75个包的关键字段。确定romance如何发包实现heap spray，和spray之后transaction缓冲区在靶机内存的排布。</li>
<li>spray之后直到第一次越界读，存在多次越界修改相邻transaction的操作。但是不清楚transaction结构体的定义，不知道改了哪些字段。陷入困难。</li>
</ol>
<p>计划:</p>
<ol>
<li>记录后续流量的关键字段，尝试猜测字段，进行分析。无果则放弃详细的字段和机理，根据更直接和普遍的特征给出规则。</li>
<li>考虑一下champion失败要怎么处理。</li>
</ol>
<p>工作时间: 4h</p>
<h3 id="2020-9-21"><a class="markdownIt-Anchor" href="#2020-9-21"></a> 2020-9-21</h3>
<p>内容:</p>
<ol>
<li>记录romance第二次越界读之前的流量，猜测<code>pTransaction+168</code>为InSetup缓冲区起始，<code>pTransaction+80</code>为<code>OutData</code>指针地址起始。</li>
<li>考虑到romance越界写操作的核心部分为靶机内存偏移，因此只要保证偏移不变，写操作流量包的字段可以有较大变化，不便于匹配，搁置romance详细过程的分析。</li>
<li>romance分析文档50%</li>
</ol>
<p>计划:</p>
<ol>
<li>完成文档和规则，开始对接</li>
</ol>
<p>反思:</p>
<ol>
<li>网络上随意表达自我的问题。</li>
<li>时而不在意别人的看法，时而过分在意的问题。</li>
</ol>
<p>工作时间: 2h</p>
<h3 id="2020-9-22"><a class="markdownIt-Anchor" href="#2020-9-22"></a> 2020-9-22</h3>
<p>内容：</p>
<ol>
<li>完成romance主要流量特征的分析，完成规则撰写，改动了ET/OPEN规则来匹配TID和control_transaction。</li>
<li>发送对接压缩包，等待反馈。</li>
</ol>
<p>计划：</p>
<ol>
<li>回到champion，继续分析，尝试定位错误。</li>
</ol>
<p>工作时间：4h</p>
<h3 id="2020-9-23"><a class="markdownIt-Anchor" href="#2020-9-23"></a> 2020-9-23</h3>
<p>反思：</p>
<ol>
<li>电脑崩了之后，恢复困难。软件、数据、文档、资源的存储极其缺乏管理，取舍起来困难而低效。需要考虑重点存放文档、资源、路径明确的重要数据，其他的丢了就丢了。</li>
<li>需要考虑对硬盘关键数据进行备份，以免出现硬盘烧毁的情况。</li>
</ol>
<h3 id="2020-9-25"><a class="markdownIt-Anchor" href="#2020-9-25"></a> 2020-9-25</h3>
<p>内容：</p>
<ol>
<li>调研了NSA泄露工具库中，5款用于注入的工具，目标软件普遍非常古老，有些甚至必须运行在古老的RHL系统(2003)上。</li>
</ol>
<p>总结：</p>
<ol>
<li>RHL和RHEL的区别。</li>
<li>检索注入工具的相关信息时，找到其CVE编号很重要。</li>
</ol>
<p>计划：</p>
<ol>
<li>继续调研次优工具</li>
<li>有时间看看champion?</li>
<li>例会写稿</li>
</ol>
<p>工作时间：2h</p>
<h3 id="2020-9-27"><a class="markdownIt-Anchor" href="#2020-9-27"></a> 2020-9-27</h3>
<p>内容：</p>
<ol>
<li>调研另外3款NSA工具，都是针对服务和守护进程的漏洞，只调研到系统版本信息。</li>
<li>合并调研结果。NSA的部分工具，如SNEER，没找到CVE编号；有些工具甚至连用法、作用都不明确。</li>
</ol>
<p>计划：</p>
<ol>
<li>抓紧完成微机原理实验，尽量就此结束。</li>
<li>讨论调研结果。</li>
</ol>
<p>工作时间：3h</p>
<h3 id="2020-9-30"><a class="markdownIt-Anchor" href="#2020-9-30"></a> 2020-9-30</h3>
<p>内容</p>
<ol>
<li>看演示录像</li>
<li>调研qemu虚拟机</li>
</ol>
<p>工作时间：1.5h</p>
<h2 id="2020-10"><a class="markdownIt-Anchor" href="#2020-10"></a> 2020-10</h2>
<h3 id="2020-10-02"><a class="markdownIt-Anchor" href="#2020-10-02"></a> 2020-10-02</h3>
<p>内容：</p>
<ol>
<li>virt-manager解决qemu虚拟机的device型号指定问题。</li>
</ol>
<p>计划：</p>
<ol>
<li>利用软件工程空出来的时间，复习MS17-010漏洞，看champion漏洞原理，先写文档</li>
</ol>
<p>工作时间：1h</p>
<h3 id="2020-10-3"><a class="markdownIt-Anchor" href="#2020-10-3"></a> 2020-10-3</h3>
<p>内容：</p>
<ol>
<li>复习部分MS17-010 Bug</li>
</ol>
<p>计划：</p>
<ol>
<li>抽空复习完5个bug</li>
</ol>
<p>反思：</p>
<ul>
<li>软件工程：用户需求和系统设计的冲突?<br />
写story<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>story依赖和分类<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⟶</mo></mrow><annotation encoding="application/x-tex">\longrightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.522em;vertical-align:-0.011em;"></span><span class="mrel">⟶</span></span></span></span>模块化？</li>
</ul>
<p>工作时间：0.5h</p>
<h3 id="2020-10-7"><a class="markdownIt-Anchor" href="#2020-10-7"></a> 2020-10-7</h3>
<p>工作：暂无</p>
<p>学习：</p>
<ol>
<li>
<p>4天软件工程课程。敏捷开发，自动化测试，多人协作</p>
</li>
<li>
<p>Clion，Git，Svn。Shell脚本</p>
</li>
<li>
<p>一次linux课程，initrd</p>
</li>
<li>
<p>0基础写了点最基本的shell脚本。shell的变量类型、赋值、运算和程序控制流程的语法。</p>
<ol>
<li>变量定义/赋值。直接写<code>myvar=xxx</code>，不允许有任何空白分隔符</li>
<li>变量类型。<code>myvar=3</code>，<code>myvar</code>是字符串还是整数?</li>
<li>变量运算。算术运算需要用<code>expr</code>；逻辑运算符可以用<code>&amp;&amp;</code>,<code>||</code></li>
<li>流程控制。逻辑条件用<code>[]</code>，不能用<code>()</code>；要写成<code>[</code>+空白+带空白的逻辑运算式+空白+<code>]</code>如果用<code>&amp;&amp;</code>、<code>||</code>等符号，就得用<code>[[</code>和<code>]]</code>括起来</li>
</ol>
</li>
</ol>
<p>反思：</p>
<ol>
<li>shell的语法设计成这样的原因究竟是？为什么不实现更灵活的语法（比如空白的问题，是为了单独隔离，以识别标识符吗？）</li>
</ol>
<h3 id="2020-10-10"><a class="markdownIt-Anchor" href="#2020-10-10"></a> 2020-10-10</h3>
<p>工作：暂无</p>
<p>学习：</p>
<ol>
<li>linux initrd文件系统,只包含bash。依赖打包的自动化脚本。</li>
<li>os</li>
<li>sw2020</li>
</ol>
<p>计划：</p>
<ol>
<li><strong>linux/os/计网</strong>，DSP，通信电子线路</li>
<li>补体育</li>
<li>romance新环境</li>
</ol>
<h3 id="2020-10-14"><a class="markdownIt-Anchor" href="#2020-10-14"></a> 2020-10-14</h3>
<p>工作：停滞</p>
<p>学习：</p>
<p>ee:</p>
<ol>
<li>通信电子线路：电路理论review：串并联谐振（品质因数/失谐系数）</li>
<li>计算机网络：分层协议对比</li>
<li>DSP：？？？</li>
</ol>
<p>seed:</p>
<ol>
<li>linux文件系统：挂载硬盘，0.55手动，0.6自动加载驱动（mods和udev）</li>
<li>操作系统：？？？</li>
</ol>
<p>misc:</p>
<ol>
<li>bfs的一种实现，树的层序遍历。
<ul>
<li>不能斜着走：以起点为根的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>n</mi></mrow><annotation encoding="application/x-tex">2n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault">n</span></span></span></span></li>
<li>可以斜着走：以起点为根的<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>3</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">3^n-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.747722em;vertical-align:-0.08333em;"></span><span class="mord"><span class="mord">3</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>叉树</li>
</ul>
</li>
</ol>
<p>计划：</p>
<p>tomorrow</p>
<ol>
<li>计网/DSP课</li>
<li>下午搭Romance环境</li>
<li>晚上面试</li>
</ol>
<p>few days</p>
<ol>
<li>start organizational management:
<ul>
<li>task manager</li>
<li>calendar</li>
<li>note-taking system</li>
<li>storages and sync</li>
</ul>
</li>
</ol>
<h3 id="2020-10-15"><a class="markdownIt-Anchor" href="#2020-10-15"></a> 2020-10-15</h3>
<p>学习:</p>
<p>ee</p>
<ol>
<li>DSP 频率取样</li>
<li>计网：SMTP。HTTP，cookies，Web代理计算</li>
</ol>
<p>seed:</p>
<ol>
<li>整理linux笔记</li>
</ol>
<h3 id="2020-10-16"><a class="markdownIt-Anchor" href="#2020-10-16"></a> 2020-10-16</h3>
<p>学习：</p>
<p>seed:</p>
<ol>
<li>linux笔记</li>
</ol>
<p>other:</p>
<ol>
<li>配置wine环境</li>
<li>linux下重新picgo + github图床，发现api.github.com的DNS污染问题</li>
</ol>
<p>计划：</p>
<ol>
<li>配smb服务 .6</li>
<li>centos6.9配网络启动 1</li>
<li>DSP：DFT .1</li>
<li>整理文件/笔记 .1</li>
</ol>
<h3 id="2020-10-29"><a class="markdownIt-Anchor" href="#2020-10-29"></a> 2020-10-29</h3>
<ol>
<li>linux小系统v0.7</li>
<li>问题流量</li>
</ol>
<p>计划：</p>
<ol>
<li>通电 知识地图</li>
<li>v0.9</li>
<li>ADI杯</li>
</ol>
<h3 id="2020-10-20"><a class="markdownIt-Anchor" href="#2020-10-20"></a> 2020-10-20</h3>
<ol>
<li>FFT（不太行）</li>
<li>体育课</li>
<li>champion, not loser !</li>
</ol>
<h3 id="2020-10-22"><a class="markdownIt-Anchor" href="#2020-10-22"></a> 2020-10-22</h3>
<ol>
<li>
<p>DSP课程</p>
<ul>
<li>FFT计算线性卷积：3点和1000点？分段！
<ul>
<li>L(3*3) = 5，重叠部分：相加/丢弃</li>
</ul>
</li>
<li>数字滤波器
<ul>
<li>IIR滤波器基本结构
<ol>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>Y</mi><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>+</mo><mi mathvariant="normal">Σ</mi><msub><mi>b</mi><mi>n</mi></msub><msup><mi>z</mi><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo><mo>⋅</mo><mi>W</mi><mtext> </mtext><mo separator="true">;</mo><mtext> </mtext><mi>W</mi><mo>=</mo><mfrac><mn>1</mn><mrow><mn>1</mn><mo>−</mo><mi mathvariant="normal">Σ</mi><msub><mi>a</mi><mi>n</mi></msub><msup><mi>z</mi><mrow><mo>−</mo><mi>n</mi></mrow></msup></mrow></mfrac><mo>⋅</mo><mi>X</mi></mrow><annotation encoding="application/x-tex">Y = (1+ \Sigma b_n z^{-n}) \cdot W \ ;\ W =  \frac{1}{1-\Sigma a_n z^{-n}} \cdot X</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.22222em;">Y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.021331em;vertical-align:-0.25em;"></span><span class="mord">Σ</span><span class="mord"><span class="mord mathdefault">b</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.771331em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace"> </span><span class="mpunct">;</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mspace"> </span><span class="mord mathdefault" style="margin-right:0.13889em;">W</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.2902079999999998em;vertical-align:-0.44509999999999994em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.845108em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mbin mtight">−</span><span class="mord mtight">Σ</span><span class="mord mtight"><span class="mord mathdefault mtight">a</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.16454285714285719em;"><span style="top:-2.357em;margin-left:0em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mathdefault mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.143em;"><span></span></span></span></span></span></span><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.04398em;">z</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7026642857142857em;"><span style="top:-2.786em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathdefault mtight">n</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.44509999999999994em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07847em;">X</span></span></span></span></li>
<li>$Y = \frac{1}{1-\Sigma a_n z^{-n}} \cdot W\ \ \ \ \ \ \ \ \ ;\ W = ( 1+ \Sigma b_n z^{-n}) \cdot X $</li>
</ol>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>计算机网络</p>
<ul>
<li>回顾：系统方法、网络设计需求</li>
<li>开始连接
<ul>
<li>介质类型？</li>
<li>发送
<ul>
<li>Non-Return Zero
<ul>
<li>全1 基线偏移</li>
<li>全0 空闲误判</li>
</ul>
</li>
<li>边沿脉冲表示0、1：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>η</mi><mo>=</mo><mn>50</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">\eta =  50\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">η</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">5</span><span class="mord">0</span><span class="mord">%</span></span></span></span></li>
<li>4B/5B：$\eta = 80% $</li>
</ul>
</li>
<li>纠错
<ul>
<li>奇偶校验：1维/2维/2维plus（hamming code）</li>
<li><strong>CRC校验</strong></li>
<li>checksum
<ul>
<li>反码加法</li>
</ul>
</li>
</ul>
</li>
<li>接入控制：冲突检测，随机调度？</li>
</ul>
</li>
</ul>
</li>
<li>
<p>通信电子线路</p>
<ul>
<li>选频网络知识地图</li>
</ul>
</li>
<li>
<p>午睡?3:00 - 6:00</p>
</li>
<li>
<p>逛博客（看热闹）</p>
<ul>
<li>新人水文</li>
<li>dx: ldd、tikz、图床</li>
<li>qy: linux简介、几个RE:</li>
<li>lu: 学习方法论x3、逆向工具表、dos启动简介、shellcode简介</li>
</ul>
</li>
<li>
<p>champion</p>
<ul>
<li><strong>to the stack</strong> is_name_valid(6): indata -&gt; stack.unicode_str</li>
<li><strong>race!</strong> trans2_2nd: DataDisp at [e|r]ip</li>
<li><strong>lose</strong> invalid_dev: 2nd to slow~ (7_sp0_x64,s2008_sp0_x86</li>
<li><strong>win</strong> u r the champ (xp_sp3_x86</li>
<li><strong>the nsa tricks</strong> q_ea_size(2) + name_valid(6) + 2nd <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span> 8
<ul>
<li><strong>no use?</strong> 😕</li>
</ul>
</li>
</ul>
</li>
<li>
<p>审稿子</p>
</li>
<li>
<p>recall</p>
</li>
</ol>
<h3 id="2020-10-23"><a class="markdownIt-Anchor" href="#2020-10-23"></a> 2020-10-23</h3>
<ol>
<li>
<p>编译内核</p>
<ul>
<li><code>make localmodconfig</code>, <code>make tinyconfig</code>, <code>make menuconfig</code>,<code>make -j8</code></li>
<li>host编译-&gt; guest, make版本问题？(did you mean TAB instead of 8 spaces)</li>
<li>scl.gcc9直接<code>make menuconfig</code>出错</li>
<li><code>tar -z|j|J</code> :  <code>gz|bzip2|xz</code></li>
</ul>
</li>
<li>
<p>操作系统</p>
<ul>
<li>PV原语：两种模型
<ul>
<li>互斥：资源有限</li>
<li>同步：资源不断产生?</li>
</ul>
</li>
<li>其他同步/互斥机制
<ul>
<li>mutex、flock</li>
<li>spinlock(seen in kernel)</li>
</ul>
</li>
<li>存储器管理
<ul>
<li>内存模型
<ul>
<li>分段(data share) + 分页(内存碎片) = 段页式（现代os）</li>
</ul>
</li>
<li>运行管理
<ul>
<li>内存/磁盘置换、缺页中断</li>
</ul>
</li>
<li>存储共享
<ul>
<li>IPC</li>
<li>代码段重用，数据段Copy-on-Write</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>earlyshovel github py脚本</p>
<ul>
<li><code>t(arget)[ip|port], c(allback)[ip|port|l(ocal)port]</code></li>
<li>文件包含关系复杂，vscode尚需grep，vim怎么搞定？</li>
</ul>
</li>
<li>
<p>种子讲坛black story</p>
<ul>
<li>事件1 -&gt; 事件2，如何2分找到逻辑通路？</li>
</ul>
</li>
<li>
<p>champion</p>
<ul>
<li>复现总结 + 原理简述</li>
</ul>
</li>
</ol>
<h3 id="2020-10-24"><a class="markdownIt-Anchor" href="#2020-10-24"></a> 2020-10-24</h3>
<ol>
<li>开会</li>
<li>bili-ctf (<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>×</mo></mrow><annotation encoding="application/x-tex">\times</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord">×</span></span></span></span>) 679(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">√</mi></mrow><annotation encoding="application/x-tex">\surd</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.2em;"></span><span class="mord">√</span></span></span></span>)
<ul>
<li><code>&lt;script&gt; $ajax</code>: url + method + function(data) ?</li>
</ul>
</li>
<li>linux命令
<ul>
<li><code>echo</code>
<ul>
<li><code>echo $str</code>将去除换行、tab、多个空格，<code>echo &quot;$str&quot;</code>保留</li>
</ul>
</li>
<li><code>sed</code>
<ul>
<li><code>&amp;</code>表示已匹配的串</li>
<li><code>sed '/^\s*$/d'</code>删除空白字符行, <code>sed '/^$/d'</code>删除空行(一行只含一个<code>\n</code>)</li>
</ul>
</li>
<li><code>curl</code>
<ul>
<li><code>-H</code> (header，<code>-L</code>重定向时不变)
<ul>
<li>add: <code>-H &quot;a: aa&quot; -H &quot;b: bb&quot; ...</code></li>
<li>rm: <code>-H &quot;a:&quot;</code></li>
<li>empty: <code>-H &quot;a;&quot;</code></li>
</ul>
</li>
<li><code>-A $agent</code> (User-Agent)</li>
<li><code>-b|--cookie &quot;name1=value1; name2=value2&quot;</code></li>
<li><code>-c|--cookie-jar $file</code></li>
<li><code>-o $file</code> (<code>file=-</code> for stdout)
<ul>
<li><code>-O</code></li>
</ul>
</li>
<li><code>-i</code>(inlude header); <code>-I</code>(header only)</li>
</ul>
</li>
</ul>
</li>
<li>champion 检测策略</li>
</ol>
]]></content>
      <categories>
        <category>其他</category>
      </categories>
      <tags>
        <tag>时间管理</tag>
        <tag>计划</tag>
        <tag>反思</tag>
      </tags>
  </entry>
  <entry>
    <title>IDA学习笔记</title>
    <url>/2020/08/27/%E6%8A%80%E8%83%BD/%E5%B7%A5%E5%85%B7/learn-IDA/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>有待补充。</p>
<a id="more"></a>
<h1 id="0-简介"><a class="markdownIt-Anchor" href="#0-简介"></a> 0 简介</h1>
<h1 id="1-基本功能"><a class="markdownIt-Anchor" href="#1-基本功能"></a> 1 基本功能</h1>
<h1 id="2-拓展功能"><a class="markdownIt-Anchor" href="#2-拓展功能"></a> 2 拓展功能</h1>
<h1 id="3-使用技巧"><a class="markdownIt-Anchor" href="#3-使用技巧"></a> 3 使用技巧</h1>
]]></content>
      <categories>
        <category>技能</category>
        <category>工具</category>
      </categories>
      <tags>
        <tag>逆向</tag>
        <tag>静态分析</tag>
      </tags>
  </entry>
  <entry>
    <title>learn-Vim</title>
    <url>/2020/10/04/%E6%8A%80%E8%83%BD/%E5%B7%A5%E5%85%B7/learn-Vim/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>some usage tips.</p>
<a id="more"></a>
<h1 id="1-install-and-basics"><a class="markdownIt-Anchor" href="#1-install-and-basics"></a> 1 Install and Basics</h1>
<h2 id="11-install"><a class="markdownIt-Anchor" href="#11-install"></a> 1.1 install</h2>
<p><code>sudo apt-get update &amp;&amp; do apt-get install vim</code></p>
<h2 id="12-basic-usage"><a class="markdownIt-Anchor" href="#12-basic-usage"></a> 1.2 Basic Usage</h2>
<p>Just run <code>vimtutor</code> and complete it.</p>
<h2 id="13-basic-config"><a class="markdownIt-Anchor" href="#13-basic-config"></a> 1.3 Basic Config</h2>
<h3 id="131-temporary-runtime"><a class="markdownIt-Anchor" href="#131-temporary-runtime"></a> 1.3.1 temporary runtime</h3>
<p>Use the <code>:set $&#123;setting&#125;</code> command in line mode, press <code>tab</code> for auto-completion, e.g. <code>set number</code>.</p>
<p>Use <code>:help $&#123;setting&#125;</code> if needed.</p>
<h3 id="132-permanent-runtime"><a class="markdownIt-Anchor" href="#132-permanent-runtime"></a> 1.3.2 permanent runtime</h3>
<p>Vim loads <code>/etc/vim/vimrc</code>(and possibly some other global files) as default runtime configurations. To add user-specific runtime configs/commands, append commands to ~/.vimrc file. A typical setting is</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;visual&quot;</span></span><br><span class="line"><span class="keyword">set</span> nocompatible <span class="string">&quot;vi features only under compatible mode&quot;</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">number</span> <span class="string">&quot;line number&quot;</span></span><br><span class="line"><span class="keyword">set</span> cursorline</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">colorscheme</span> default</span><br><span class="line"><span class="keyword">filetype</span> <span class="keyword">on</span> </span><br><span class="line"></span><br><span class="line"><span class="string">&quot;format&quot;</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">cindent</span> <span class="string">&quot;indent standard&quot;</span></span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span> <span class="string">&quot;tab indent amount&quot;</span></span><br><span class="line"><span class="keyword">set</span> shiftwith=<span class="number">4</span> <span class="string">&quot;auto indent amount&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;search&quot;</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">history</span>=<span class="number">1000</span></span><br><span class="line"><span class="keyword">set</span> hlsearch</span><br><span class="line"><span class="keyword">set</span> incsearch</span><br><span class="line"><span class="keyword">set</span> showmatch</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;encode&quot;</span></span><br><span class="line"><span class="keyword">set</span> encoding=utf-<span class="number">8</span></span><br></pre></td></tr></table></figure>
<h1 id="2-plugin"><a class="markdownIt-Anchor" href="#2-plugin"></a> 2 Plugin</h1>
<h2 id="20-plugin-manager"><a class="markdownIt-Anchor" href="#20-plugin-manager"></a> 2.0 Plugin Manager</h2>
<h3 id="vim-plug"><a class="markdownIt-Anchor" href="#vim-plug"></a> Vim-plug</h3>
<p>Download <code>plug.vim</code> and put it in <code>~/.vim/autoload/</code>, for example</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">curl -fLo <span class="string">&quot;~/.vim/autoload/plug.vim&quot;</span> --creat-dirs \</span><br><span class="line">	<span class="string">&quot;https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim&quot;</span></span><br></pre></td></tr></table></figure>
<p>See comments in <code>vim ~/.vim/autoload/plug.vim</code> (or Github readme) for tutorial. A typical usage:</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line"><span class="keyword">call</span> plug#begin(<span class="string">&#x27;~/.vim/plugged&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot; make sure to use single quotes &quot;</span></span><br><span class="line">Plug <span class="string">&#x27;vim-airline/vim-airline&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;altercation/vim-colors-solarized&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">call</span> plug#end()</span><br></pre></td></tr></table></figure>
<h2 id="21-visual-plugins"><a class="markdownIt-Anchor" href="#21-visual-plugins"></a> 2.1 Visual plugins</h2>
<h3 id="colorscheme"><a class="markdownIt-Anchor" href="#colorscheme"></a> colorscheme</h3>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">Plug <span class="string">&#x27;altercation/vim-colors-solarized&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;: let g:solarized_termtrans = 1 &quot;</span> adapt the terminal transparency</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:solarized_visibility</span> = <span class="string">&quot;high&quot;</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:solarized_termcolors</span>=<span class="number">256</span> <span class="comment">&quot;for terminal usage, must degrade 16bit gui color to 8bit terminal color</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span> <span class="comment">&quot;enable vim sytax-highlighting  </span></span><br><span class="line"><span class="keyword">colorscheme</span> solarized</span><br></pre></td></tr></table></figure>
<h2 id="22-markdown-plugins"><a class="markdownIt-Anchor" href="#22-markdown-plugins"></a> 2.2 Markdown plugins</h2>
<p>Add plugin via Vim-plug (which is called in <code>vimrc</code>)</p>
<p>Use <code>:help vim-markdown</code> or <code>markdown-preview</code>.</p>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">Plug <span class="string">&#x27;plasticboy/vim-markdown&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;iamcco/markdown-preview.vim&#x27;</span></span><br><span class="line">Plug <span class="string">&#x27;iamcco/mathjax-support-for-mkdp&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot;vim-markdown config</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vim_markdown_math</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vim_markdown_strike_through</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:vim_markdown_new_list_item_indent</span> = <span class="number">4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&quot; markdown-preview.vim config</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;silent&gt;</span> <span class="symbol">&lt;F8&gt;</span> <span class="symbol">&lt;Plug&gt;</span>MarkdownPreview        <span class="comment">&quot; for normal mode</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;silent&gt;</span> <span class="symbol">&lt;F8&gt;</span> <span class="symbol">&lt;Plug&gt;</span>MarkdownPreview        <span class="comment">&quot; for insert mode</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;silent&gt;</span> <span class="symbol">&lt;F9&gt;</span> <span class="symbol">&lt;Plug&gt;</span>StopMarkdownPreview    <span class="comment">&quot; for normal mode</span></span><br><span class="line"><span class="keyword">imap</span> <span class="symbol">&lt;silent&gt;</span> <span class="symbol">&lt;F9&gt;</span> <span class="symbol">&lt;Plug&gt;</span>StopMarkdownPreview    <span class="comment">&quot; for insert mode</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>技能</category>
        <category>工具</category>
      </categories>
      <tags>
        <tag>Vim</tag>
        <tag>Editor</tag>
      </tags>
  </entry>
  <entry>
    <title>kali</title>
    <url>/2020/09/28/%E6%8A%80%E8%83%BD/%E7%BB%8F%E9%AA%8C/kali/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>A blog learning both kali and general linux usage and skills.</p>
<a id="more"></a>
<h1 id="0-install"><a class="markdownIt-Anchor" href="#0-install"></a> 0 Install</h1>
<ol>
<li>Need network.</li>
<li>Missing  wireless firmware. Better have a cable network, allowing post-installation firmware download and install, with <code>apt list|grep firmware</code>. If not, prepare a 2nd disk containing those firmware, and insert it after the warning pop up.</li>
</ol>
<h1 id="1-software-config-outer-layers"><a class="markdownIt-Anchor" href="#1-software-config-outer-layers"></a> 1 Software Config — outer layers</h1>
<h2 id="11-debian-software-general-management"><a class="markdownIt-Anchor" href="#11-debian-software-general-management"></a> 1.1 Debian Software General Management</h2>
<h3 id="111-apt-tools"><a class="markdownIt-Anchor" href="#111-apt-tools"></a> 1.1.1 apt tools</h3>
<ol>
<li>install</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update &amp;&amp; sudo apt-get upgrade &amp;&amp; sudo apt-get install <span class="variable">$&#123;PackageName&#125;</span> &amp;&amp; sudo apt clean</span><br></pre></td></tr></table></figure>
<p>Add <code>--fix-missing</code> parameter and execute install again if interrupted by network failures. Use <code>sudo apt-get clean</code> to caches for install in <code>/var/cache/apt/archives/</code> and <code>/var/cache/apt/archives/partial/</code>.</p>
<p>Software will be installed into <code>/usr</code> dir (being left for apt tools’ management recommended).</p>
<ol start="2">
<li>uninstall</li>
</ol>
<p>to remove a package but retain the config files (in <code>/etc</code>, <code>~</code>, <code>$PATH</code> or somewhere else), use</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove <span class="variable">$&#123;PackageName&#125;</span></span><br></pre></td></tr></table></figure>
<p>to remove a package and the config files, use</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove --purge $&#123;PackageName&#125;</span><br></pre></td></tr></table></figure>
<p>to remove the dependencies, use</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt autoremove</span><br></pre></td></tr></table></figure>
<p>to sum up, to completely remove a software, use</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove --purge <span class="variable">$&#123;PackageName&#125;</span> &amp;&amp; sudo apt auto remove</span><br></pre></td></tr></table></figure>
<h3 id="112-dpkg"><a class="markdownIt-Anchor" href="#112-dpkg"></a> 1.1.2 dpkg</h3>
<ol>
<li>install</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg -i <span class="variable">$&#123;PackageName&#125;</span>.deb</span><br></pre></td></tr></table></figure>
<p>Normally the package is installed in <code>/usr/local</code> (<code>--relocate</code> may be used to specify a different folder).</p>
<p>to list installed packages, use</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg -l</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>uninstall</li>
</ol>
<p>to remove a package but retain the config files, use</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg -r <span class="variable">$&#123;PackageName&#125;</span></span><br></pre></td></tr></table></figure>
<p>to remove a package and the config files, use</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg --purge <span class="variable">$&#123;PackageName&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="113-make-install"><a class="markdownIt-Anchor" href="#113-make-install"></a> 1.1.3 make install</h3>
<p>Software installed in this way is hard to remove. Better setting a <code>PREFIX=&quot;/path/to/install</code> and deleting the whole <code>$PREFIX</code> folder to uninstall.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tar -tvf $&#123;PackageName&#125;.tar.gz</span></span><br><span class="line">tar -xzf <span class="variable">$&#123;PackageName&#125;</span>.tar.gz</span><br><span class="line"><span class="built_in">cd</span> <span class="variable">$&#123;PackageName&#125;</span></span><br><span class="line">less README</span><br><span class="line">./configure --prefix /path/to/install </span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure>
<h2 id="12-documentation-software"><a class="markdownIt-Anchor" href="#12-documentation-software"></a> 1.2 Documentation software</h2>
<h3 id="121-input-method"><a class="markdownIt-Anchor" href="#121-input-method"></a> 1.2.1 Input Method</h3>
<p>fcitx, fcitx-googlepinyin (apt)</p>
<ul>
<li>post-install: fcitx config -&gt; add googlepinyin</li>
</ul>
<h3 id="122-the-fonts"><a class="markdownIt-Anchor" href="#122-the-fonts"></a> 1.2.2 the Fonts</h3>
<p>Copy fonts to a dir, and change font in Appearance.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mkdir <span class="variable">$&#123;FontDir&#125;</span>; sudo cp <span class="variable">$&#123;FontName&#125;</span>.[ttf|TTF] /usr/share/fonts/<span class="variable">$&#123;FontDir&#125;</span></span><br></pre></td></tr></table></figure>
<p>Manually install fonts for all apps.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">su &amp;&amp; <span class="built_in">cd</span> /usr/share/fonts/<span class="variable">$&#123;FontDir&#125;</span></span><br><span class="line">mkfontscale &amp;&amp; mkfontdir &amp;&amp; <span class="built_in">fc</span>-cache -fv</span><br><span class="line"><span class="built_in">source</span> /etc/profile &amp;&amp; <span class="built_in">fc</span>-list |wc -l</span><br></pre></td></tr></table></figure>
<p>or use apt tools, e.g. wenquanyi fonts (fira code fonts)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install ttf-wqy-micro-hei ttf-wqy-zenhei xfonts-wqy</span><br></pre></td></tr></table></figure>
<h3 id="123-office"><a class="markdownIt-Anchor" href="#123-office"></a> 1.2.3 Office</h3>
<p>wps office: Download linux version and use dpkg to install. Remember to copy and install fonts from  windows.</p>
<p>libreoffice:bad performance, ver 7.1</p>
<h3 id="124-markdown-and-tex"><a class="markdownIt-Anchor" href="#124-markdown-and-tex"></a> 1.2.4 markdown and tex</h3>
<p><strong>install</strong>: texlive, download dvd-image from mirror sites and run <code>install-pl</code>(need to add to <code>$PATH</code>).</p>
<p>From here, editing a document is more similiar to coding, which is why vim comes in (see <a href="https://leoharry.com/2020/10/03/%E6%8A%80%E8%83%BD/%E5%B7%A5%E5%85%B7/learn-Vim/">learn-Vim</a>).</p>
<p>Generally, filetype-recongnition, syntax-highlight, autocompletion, tags, snippets, compile-preview, etc. will be needed.</p>
<h3 id="125-hexo-blog"><a class="markdownIt-Anchor" href="#125-hexo-blog"></a> 1.2.5 hexo blog</h3>
<p>(see <a href="https://leoharry.com/2020/08/26/%E6%8A%80%E8%83%BD/%E7%BB%8F%E9%AA%8C/learn-blog/">learn-blog</a>)</p>
<p><strong>install</strong>:</p>
<ul>
<li>apt: nodejs, npm, git</li>
<li>npm: hexo-cli, and other plugins</li>
<li>manual: picgo.appimg</li>
</ul>
<p><strong>config</strong></p>
<ul>
<li>hexo: <code>_config.yaml</code></li>
<li>theme: <code>_config.yaml</code></li>
</ul>
<h2 id="13-aux-software"><a class="markdownIt-Anchor" href="#13-aux-software"></a> 1.3 Aux Software</h2>
<h3 id="131-social"><a class="markdownIt-Anchor" href="#131-social"></a> 1.3.1 Social</h3>
<p>linuxqq: dpkg install.</p>
<h3 id="132-xfce-touchpad-config"><a class="markdownIt-Anchor" href="#132-xfce-touchpad-config"></a> 1.3.2 xfce touchpad config</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install xserver-xorg-input-synaptics &amp;&amp; cp -r /usr/share/X11/xorg.conf.d/ /etc/X11/ &amp;&amp; sudo vim /etc/X11/xorg.conf.d/70-synaptics.conf</span><br></pre></td></tr></table></figure>
<p>now add the following options to the first inputclass</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Option &quot;TapButton1&quot; &quot;1&quot;</span></span><br><span class="line">Option <span class="string">&quot;TapButton2&quot;</span> <span class="string">&quot;3&quot;</span></span><br><span class="line">Option <span class="string">&quot;TapButton3&quot;</span> <span class="string">&quot;2&quot;</span></span><br><span class="line">Option <span class="string">&quot;VertEdgeScroll&quot;</span> <span class="string">&quot;off&quot;</span></span><br><span class="line">Option <span class="string">&quot;VertTwoFingerScroll&quot;</span> <span class="string">&quot;on&quot;</span></span><br><span class="line">Option <span class="string">&quot;HorizEdgeScroll&quot;</span> <span class="string">&quot;off&quot;</span></span><br><span class="line">Option <span class="string">&quot;HorizTwoFingerScroll&quot;</span> <span class="string">&quot;on&quot;</span></span><br><span class="line">Option <span class="string">&quot;CornerCoasting&quot;</span> <span class="string">&quot;on&quot;</span></span><br><span class="line">Option <span class="string">&quot;CircularScrolling&quot;</span> <span class="string">&quot;on&quot;</span></span><br><span class="line">Option <span class="string">&quot;CircScrollTrigger&quot;</span> <span class="string">&quot;2&quot;</span></span><br><span class="line">Option <span class="string">&quot;EmulateTwoFingerMinZ&quot;</span> <span class="string">&quot;40&quot;</span></span><br><span class="line">Option <span class="string">&quot;EmulateTwoFingerMinW&quot;</span> <span class="string">&quot;8&quot;</span></span><br><span class="line">Option <span class="string">&quot;CoastingSpeed&quot;</span> <span class="string">&quot;0&quot;</span></span><br><span class="line">Option <span class="string">&quot;FingerLow&quot;</span> <span class="string">&quot;30&quot;</span></span><br><span class="line">Option <span class="string">&quot;FingerHigh&quot;</span> <span class="string">&quot;70&quot;</span></span><br><span class="line">Option <span class="string">&quot;MaxTapTime&quot;</span> <span class="string">&quot;125&quot;</span></span><br><span class="line">Option <span class="string">&quot;VertScrollDelta&quot;</span> <span class="string">&quot;-111&quot;</span></span><br><span class="line">Option <span class="string">&quot;HorizScrollDelta&quot;</span> <span class="string">&quot;-111&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="133-web-browser"><a class="markdownIt-Anchor" href="#133-web-browser"></a> 1.3.3 Web Browser</h3>
<ol>
<li>chrome: just download the official package.</li>
<li>firefox esr, kali original.</li>
</ol>
<h3 id="134-socks-proxy-client"><a class="markdownIt-Anchor" href="#134-socks-proxy-client"></a> 1.3.4 socks proxy client</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install shadowsocks-libev simple-obfs </span><br></pre></td></tr></table></figure>
<p>Server config template in  <code>/etc/shadowsocks-libev/</code>.</p>
<p>Client config with obfs-local (no space between <code>plugin_opts</code> recommended):</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line"><span class="string">&quot;server&quot;</span>:<span class="string">&quot;&lt;ip&gt;&quot;</span>,</span><br><span class="line"><span class="string">&quot;server_port&quot;</span>:&lt;<span class="string">&quot;port&gt;&quot;</span>,</span><br><span class="line"><span class="string">&quot;local_address&quot;</span>:<span class="string">&quot;&lt;localhost&gt;&quot;</span>,</span><br><span class="line"><span class="string">&quot;local_port&quot;</span>:<span class="string">&quot;&lt;port2&gt;&quot;</span>,</span><br><span class="line"><span class="string">&quot;password&quot;</span>:<span class="string">&quot;&lt;pass&gt;&quot;</span>,</span><br><span class="line"><span class="string">&quot;timeout&quot;</span>:<span class="string">&quot;&lt;sec&gt;&quot;</span>,</span><br><span class="line"><span class="string">&quot;method&quot;</span>:<span class="string">&quot;&lt;encry&gt;&quot;</span>,</span><br><span class="line"><span class="string">&quot;fast_open&quot;</span>:<span class="literal">true</span>,</span><br><span class="line"><span class="string">&quot;plugin&quot;</span>:<span class="string">&quot;obfs-local&quot;</span>,</span><br><span class="line"><span class="string">&quot;plugin_opts&quot;</span>:<span class="string">&quot;obfs=http;obfs-host=www.baidu.com;fast-open=true&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Use proxy <code>socks5h://$&#123;ip&#125;:$&#123;port&#125;</code> to hide DNS. (<code>socks5://</code> DOES NOT proxy DNS traffic)</p>
<p>In firefox, set the SOCKS Host v5 proxy in preferences -&gt; general -&gt; network settings. ALWAYS check “Proxy DNS when using Socks v5”.</p>
<h2 id="14-virtualize"><a class="markdownIt-Anchor" href="#14-virtualize"></a> 1.4 Virtualize</h2>
<h3 id="140-architecture"><a class="markdownIt-Anchor" href="#140-architecture"></a> 1.4.0 Architecture</h3>
<ol>
<li>
<p>Bare-metal<br />
Userspace Management tool --&gt; Management API --&gt; Hypervisor software --&gt; Hardware resource(CPU/Memory/NIC/Disk)</p>
</li>
<li>
<p>Host OS<br />
Userspace Management tool --&gt; API --&gt; Hypervisor --&gt; Host OS --&gt; Hardware (CPU/Memory/NIC/Disk)</p>
</li>
</ol>
<h3 id="141-vmware-vmdk"><a class="markdownIt-Anchor" href="#141-vmware-vmdk"></a> 1.4.1 VMware .vmdk</h3>
<h3 id="142-virtualbox-vdi"><a class="markdownIt-Anchor" href="#142-virtualbox-vdi"></a> 1.4.2  VirtualBox .vdi</h3>
<h3 id="143-qemu-qcowqcow2"><a class="markdownIt-Anchor" href="#143-qemu-qcowqcow2"></a> 1.4.3 Qemu .qcow,.qcow2</h3>
<h4 id="1431-basic-install"><a class="markdownIt-Anchor" href="#1431-basic-install"></a> 1.4.3.1 basic install</h4>
<p>Install qemu and qemu-system</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">apt list|grep qemu &amp;&amp; sudo apt-get install qemu [qemu-system qemu-utils]</span><br></pre></td></tr></table></figure>
<p>Create vitual disk by <code>qemu-img [-f FMT] &lt;filename&gt; [SIZE]</code>.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qemu-img -f qcow2 ubuntu-1804-server-x86_64.qcow2 4G</span><br></pre></td></tr></table></figure>
<p>Check hardware support for KVM</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">grep -E <span class="string">&#x27;vmx|svm&#x27;</span> /proc/cpuinfo</span><br></pre></td></tr></table></figure>
<p>Check if kvm module is loaded</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lsmod | grep kvm</span><br></pre></td></tr></table></figure>
<p>Start system from <code>.iso</code> by <code>qemu-system-xxx [options] [disk_img]</code>, use <code>-enable-kvm</code> to accelerate.</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">qemu-system-x86_86 -<span class="built_in">enable</span>-kvm -m 512 ./your-virtual-disk.qcow2 -cdrom ./your-boot-img.iso</span><br></pre></td></tr></table></figure>
<h4 id="1432-network-config"><a class="markdownIt-Anchor" href="#1432-network-config"></a> 1.4.3.2  Network Config</h4>
<p>Config first a host-only virtual network, then change into NAT mode using iptables. See Network options in <code>man qemu-system-x86_64</code>.</p>
<p><strong>Host Config</strong></p>
<p>Use <code>-netdev tap,id=&lt;id&gt;,ifname=&lt;name&gt;,script=&lt;file&gt;[,downscript=&lt;dfile&gt;]</code> to config a host TAP network backend (bring up an interface <strong>virtually connected to the Guest NIC</strong>).</p>
<p>Or just use <code>-nic tap</code> to bring up the default tap0 interface, and manually config it using <code>ifconfig</code>.</p>
<p>NOTE: DO check kernel support for tap/tun: <code>modprobe tun &amp;&amp; lsmod|grep tun</code>. Kernel module recompile needed if unsupported.</p>
<p><strong>Guest Config</strong></p>
<p>Set guest interface(eth0, ens33 or whatever) to fit in the Host TAP network. Host-only finished.</p>
<p><strong>NAT Config</strong><br />
Set the guest gateway to host tap-interface ip. Now switch to host, use</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">iptables -F <span class="comment"># this brings risks</span></span><br><span class="line"><span class="built_in">echo</span> 1 &gt; /proc/sys/net/ipv4/ip_forward</span><br><span class="line">iptables -t nat -A POSTROUTING -s <span class="variable">$&#123;Host_Tap_Ip&#125;</span>/<span class="variable">$&#123;Mask_Width&#125;</span> -j SNAT --to-source <span class="variable">$&#123;Host_eth0_ip&#125;</span></span><br></pre></td></tr></table></figure>
<h4 id="1433-gui-managementvirt-manager-series"><a class="markdownIt-Anchor" href="#1433-gui-managementvirt-manager-series"></a> 1.4.3.3 GUI Management(Virt-Manager Series)</h4>
<p>install the <strong>virt-manager</strong> tool series (virsh, virt-viewer, virt-install, …)</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install virt-manager</span><br></pre></td></tr></table></figure>
<p>Now with command <code>virt-manager</code>, geust OS devices can be easily configured, including the NAT virtual network manaully set up above.</p>
<p>Support for tap/tun still needed, though. Run <code>modprobe tun &amp;&amp; lsmod|grep tun</code> again if the network option in vir-manager turns grey.</p>
<h4 id="others"><a class="markdownIt-Anchor" href="#others"></a> Others</h4>
<p>Xen,…</p>
<h2 id="15-wine"><a class="markdownIt-Anchor" href="#15-wine"></a> 1.5 wine</h2>
<h1 id="2-shells-grounds"><a class="markdownIt-Anchor" href="#2-shells-grounds"></a> 2 Shells — grounds</h1>
<h2 id="20-shell-basic"><a class="markdownIt-Anchor" href="#20-shell-basic"></a> 2.0 shell basic</h2>
<p>what is a shell ?</p>
<ul>
<li>program parsing user input, and do corresponding things: run binary as usr:group, etc.</li>
</ul>
<p>install a shell</p>
<ul>
<li>apt tools</li>
</ul>
<p>choose a shell</p>
<ul>
<li>current shell: <code>echo $SHELL</code></li>
<li>supported shell: <code>cat /etc/shells</code></li>
<li>run a shell: <code>$shell_name</code></li>
<li>change login shell: <code>chsh</code> or <code>chsh -s $shell_path</code></li>
</ul>
<p>config a shell</p>
<ul>
<li><code>~/.$&#123;shell_name&#125;rc</code></li>
<li><code>man $&#123;shell_name&#125;</code></li>
</ul>
<h2 id="21-command-line-cli"><a class="markdownIt-Anchor" href="#21-command-line-cli"></a> 2.1 Command line (CLI)</h2>
<h3 id="211-general-commands"><a class="markdownIt-Anchor" href="#211-general-commands"></a> 2.1.1 general commands</h3>
<p>(need a big picture)</p>
<h3 id="212-specs"><a class="markdownIt-Anchor" href="#212-specs"></a> 2.1.2 specs</h3>
<p>pipe, redirection, etc…</p>
<h2 id="22-shell-script"><a class="markdownIt-Anchor" href="#22-shell-script"></a> 2.2 Shell Script</h2>
<p>pros:</p>
<ul>
<li>batch commands</li>
<li>string processing</li>
</ul>
<p>cons</p>
<ul>
<li>arithmetic</li>
</ul>
<h3 id="221-variable"><a class="markdownIt-Anchor" href="#221-variable"></a> 2.2.1 variable</h3>
<p>strings ?</p>
<h3 id="222-operaters"><a class="markdownIt-Anchor" href="#222-operaters"></a> 2.2.2 operaters</h3>
<p>()<br />
(())<br />
[]<br />
[[]]<br />
{}<br />
’<br />
&quot;<br />
$<br />
&lt;<br />
&gt;<br />
…</p>
<h3 id="223-keywords"><a class="markdownIt-Anchor" href="#223-keywords"></a> 2.2.3 keywords</h3>
<p>if, case, for, while, repeat</p>
]]></content>
      <categories>
        <category>技能</category>
        <category>经验</category>
      </categories>
      <tags>
        <tag>linux</tag>
        <tag>kali</tag>
      </tags>
  </entry>
  <entry>
    <title>博客搭建笔记</title>
    <url>/2020/08/27/%E6%8A%80%E8%83%BD/%E7%BB%8F%E9%AA%8C/learn-blog/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>在写了，在写了（新建文件夹）</p>
<a id="more"></a>
<h1 id="0-build-the-enviroment"><a class="markdownIt-Anchor" href="#0-build-the-enviroment"></a> 0 Build the Enviroment</h1>
<h2 id="01-nodejs-npm"><a class="markdownIt-Anchor" href="#01-nodejs-npm"></a> 0.1 Nodejs &amp; npm.</h2>
<p><code>sudo apt install nodejs npm</code></p>
<h2 id="02-hexo"><a class="markdownIt-Anchor" href="#02-hexo"></a> 0.2 Hexo</h2>
<h3 id="021-global-install"><a class="markdownIt-Anchor" href="#021-global-install"></a> 0.2.1 Global Install</h3>
<p><code>sudo npm install hexo-cli -g</code></p>
<h3 id="021-local-install"><a class="markdownIt-Anchor" href="#021-local-install"></a> 0.2.1 Local Install</h3>
<p>To be detailed.</p>
<h2 id="03-hexo-modules"><a class="markdownIt-Anchor" href="#03-hexo-modules"></a> 0.3 Hexo Modules</h2>
<ol>
<li>the deploy.</li>
<li>the mathjax.</li>
<li>music player.</li>
</ol>
<h1 id="2-image-hosting"><a class="markdownIt-Anchor" href="#2-image-hosting"></a> 2 Image Hosting</h1>
<h2 id="21-picgo"><a class="markdownIt-Anchor" href="#21-picgo"></a> 2.1 PicGo</h2>
<h3 id="211-install"><a class="markdownIt-Anchor" href="#211-install"></a> 2.1.1 Install</h3>
<p>Install from <a href="https://github.com/Molunerfinn/PicGo">Molunerfinn/PicGo</a>. For linux:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget <span class="string">&quot;https://github.com/Molunerfinn/PicGo/releases/download/v2.2.2/PicGo-2.2.2.AppImage&quot;</span></span><br><span class="line"><span class="comment"># VERSION=2.2.2</span></span><br><span class="line">chmod+x PicGo-<span class="variable">$&#123;VERSION&#125;</span>.AppImage</span><br><span class="line">./PicGo-<span class="variable">$&#123;VERSION&#125;</span>.AppImage</span><br></pre></td></tr></table></figure>
<p>possibly an error would occur:</p>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">The SUID sandbox helper binary was found, but is not configured correctly. </span><br><span class="line">Rather than run without sandboxing I&#x27;m aborting now. </span><br><span class="line">You need to make sure that /tmp/.mount_PicGo-$&#123;random_string&#125;/chrome-sandbox is owned by root and has mode 4755.</span><br></pre></td></tr></table></figure>
<p>solution:</p>
<ul>
<li>enable user namespace: <code>sudo sysctl kernel.unprivileged_userns_clone=1</code></li>
<li>or run without sandbox: <code>./PicGo-$&#123;VERSION&#125;.AppImage --no-sandbox</code></li>
</ul>
<p>NOTE: “sandbox” provides a high level of security, except for 0-day exploits of linux kernel. Make your own choice.</p>
<p>to simplify things and finish install:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[ -d /usr/<span class="built_in">local</span>/picgo ] || sudo mkdir -p /usr/<span class="built_in">local</span>/picgo</span><br><span class="line">sudo mv PicGo-<span class="variable">$&#123;VERSION&#125;</span>.AppImage /usr/<span class="built_in">local</span>/picgo/PicGo-<span class="variable">$&#123;VERSION&#125;</span>.AppImage</span><br><span class="line">sudo <span class="built_in">echo</span> -e <span class="string">&quot;sudo sysctl kernel.unprivileged_userns_clone=1 &amp;&amp; /usr/local/picgo/PicGo-<span class="variable">$&#123;VERSION&#125;</span>.AppImage&quot;</span> \</span><br><span class="line">&gt; /usr/<span class="built_in">local</span>/bin/picgo &amp;&amp; sudo chmod 755 /usr/<span class="built_in">local</span>/bin/picgo</span><br><span class="line"><span class="built_in">export</span> PATH=/usr/<span class="built_in">local</span>/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
<h3 id="212-usage"><a class="markdownIt-Anchor" href="#212-usage"></a> 2.1.2 Usage</h3>
<p><strong>quick capture</strong></p>
<p>Use <code>ctrl+shift+P</code> (default keybindings) to upload clipboard image. (run <code>sudo apt-get install xclip</code> first)</p>
<p>To speed things up, install <code>picgo-plugin-quick-capture</code> (in the plugin config tab), and use <code>ctrl+shift+0</code> to launch screenshot script (<code>xfce4-screenshooter -r -c</code> with xfce4 desktop).</p>
<p><strong>host config</strong></p>
<ul>
<li>github host</li>
</ul>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201016144246.png" alt="" /></p>
<ul>
<li>gitee host (need <code>gitee</code> plugin) (faster)</li>
</ul>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201016144508.png" alt="20201016144508" /></p>
<p>NOTE: GitHub upload is done with APIs at <code>api.github.com:443</code>, which is resolved to <code>13.250.168.23</code>(blocked) by default. This would cause “Error: connect ECONNREFUSED 13.250.168.23:443”. To test available api addresses:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line"></span><br><span class="line">    ips = [</span><br><span class="line">            <span class="string">&quot;13.230.158.120&quot;</span>,</span><br><span class="line">            <span class="string">&quot;18.179.245.253&quot;</span>,</span><br><span class="line">            <span class="string">&quot;52.69.239.207&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13.209.163.61&quot;</span>,</span><br><span class="line">            <span class="string">&quot;54.180.75.25&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13.233.76.15&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13.234.168.60&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13.250.168.23&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13.250.94.254&quot;</span>,</span><br><span class="line">            <span class="string">&quot;54.169.195.247&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13.236.14.80&quot;</span>,</span><br><span class="line">            <span class="string">&quot;13.238.54.232&quot;</span>,</span><br><span class="line">            <span class="string">&quot;52.63.231.178&quot;</span>,</span><br><span class="line">            <span class="string">&quot;18.229.199.252&quot;</span>,</span><br><span class="line">            <span class="string">&quot;54.207.47.76&quot;</span></span><br><span class="line">           ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> ip <span class="keyword">in</span> ips:</span><br><span class="line">        print(ip)</span><br><span class="line">        x = socket.socket()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">           x.connect((ip, <span class="number">443</span>))</span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">           print(<span class="string">&quot;fail &quot;</span>,ip)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot; This is executed when run from the command line &quot;&quot;&quot;</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>and use <code>sudo echo -e &quot;\n$ip_available	api.github.com&quot; &gt;&gt; /etc/hosts</code> to fix.</p>
]]></content>
      <categories>
        <category>技能</category>
        <category>经验</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>前端</tag>
      </tags>
  </entry>
  <entry>
    <title>软件工程 敏捷mini培训</title>
    <url>/2020/10/11/%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B-%E6%95%8F%E6%8D%B7mini%E5%9F%B9%E8%AE%AD/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>国庆4+1天软件工程培训(简要)笔记。</p>
<a id="more"></a>
<h1 id="软件工程"><a class="markdownIt-Anchor" href="#软件工程"></a> 软件工程</h1>
<h2 id="1-敏捷开发基础知识"><a class="markdownIt-Anchor" href="#1-敏捷开发基础知识"></a> 1 敏捷开发基础知识</h2>
<h3 id="11-发展和分类"><a class="markdownIt-Anchor" href="#11-发展和分类"></a> 1.1 发展和分类</h3>
<p>CMM -&gt; Agile -&gt; DevOps</p>
<p>需求稳定-&gt;需求变化快-&gt;云业务/分布式  团队规模变小，分工细化</p>
<ul>
<li>
<p>CMM: 大量文档、返工、文档，保证开发质量可控。5个可控等级。</p>
</li>
<li>
<p>Agile: 需求不断变化，不同功能逐次交付。</p>
</li>
<li>
<p>eXtreme Programming: 偏重编程</p>
</li>
</ul>
<p>技术实践-&gt;团队实践-&gt;过程实践</p>
<ul>
<li>Scrum：偏重项目管理</li>
</ul>
<p>定义了一个项目管理框架、方式，包括需求搜集、团队协作、项目运作等</p>
<ul>
<li>
<p>电信业：大规模产品实践</p>
</li>
<li>
<p>敏捷宣言</p>
</li>
<li>
<p>敏捷开发的原则</p>
</li>
</ul>
<h3 id="12-scrum-3-3-4"><a class="markdownIt-Anchor" href="#12-scrum-3-3-4"></a> 1.2 Scrum 3-3-4</h3>
<p>团队：三个角色</p>
<ul>
<li>Product Owner：开发和维护product backlog，澄清需求优先级</li>
<li>Scrum Master：辅导团队用正确的敏捷方法做事</li>
<li>Team：产品研发主要实体</li>
</ul>
<p>三个工作件</p>
<ul>
<li>产品backlog</li>
<li>迭代backlog，</li>
<li>燃尽图burndown</li>
</ul>
<p>管理：四个会议</p>
<ul>
<li>迭代计划会议sprint planning meeting</li>
<li>每日站立会议 daily Scrum/standup meeting</li>
<li>迭代验收会议 sprint review meeting</li>
<li>迭代回顾会议 sprint respective meeting</li>
</ul>
<h3 id="13-迭代"><a class="markdownIt-Anchor" href="#13-迭代"></a> 1.3 迭代</h3>
<p>计划-站会-站会…验收-回顾</p>
<p>迭代0额外计划</p>
<ul>
<li>需求解析</li>
<li>工作量估计<br />
排序，估算最简单的任务，计算点数，给出总时间估计。</li>
</ul>
<h3 id="14-user-story"><a class="markdownIt-Anchor" href="#14-user-story"></a> 1.4 User story</h3>
<p>story描述了对于系统/软件的客户/用户有价值的一个功能点。</p>
<p>构成</p>
<ul>
<li>简短描述，在开发过程中起提醒作用</li>
<li>针对描述的交流，澄清细节</li>
<li>记录/传递story细节的测试信息，用来确定开发是否完成</li>
</ul>
<p>story的描述格式(3段式)</p>
<ul>
<li>作为X</li>
<li>为了Y</li>
<li>我希望Z</li>
</ul>
<p>story判断标准</p>
<ul>
<li>INVEST原则</li>
</ul>
<p>Story不是万灵药</p>
<ul>
<li>用户界面：大量截图</li>
<li>系统接口：文档</li>
</ul>
<p>Story的依赖关系</p>
<ul>
<li>接口、功能、测试依赖</li>
<li>依赖关系图</li>
<li>存在循环依赖则story划分不合理</li>
</ul>
<p>Story的优先级：must/should/could/won‘t</p>
<ul>
<li>对客户/用户的影响</li>
<li>依赖</li>
<li>内聚性–&gt;相似的story</li>
<li>规模–&gt;点数估计</li>
</ul>
<h3 id="15-敏捷开发演练"><a class="markdownIt-Anchor" href="#15-敏捷开发演练"></a> 1.5 敏捷开发演练</h3>
<p>手工机器人制作：迭代0、迭代1、迭代2</p>
<h2 id="2-测试基础"><a class="markdownIt-Anchor" href="#2-测试基础"></a> 2 测试基础</h2>
<h3 id="21-软件质量模型"><a class="markdownIt-Anchor" href="#21-软件质量模型"></a> 2.1 软件质量模型</h3>
<p>Functionality | Reliability …</p>
<h3 id="22-测试分层"><a class="markdownIt-Anchor" href="#22-测试分层"></a> 2.2 测试分层</h3>
<p>单元测试(UT)、集成测试(IT)、系统测试(ST)、验收测试</p>
<h3 id="23-测试技术"><a class="markdownIt-Anchor" href="#23-测试技术"></a> 2.3 测试技术</h3>
<ul>
<li>
<p>静态/动态</p>
</li>
<li>
<p>黑盒/白盒</p>
</li>
</ul>
<p><strong>黑盒测试</strong></p>
<ul>
<li>等价类划分：有效/无效等价类</li>
<li>边界值分析</li>
<li>判定表</li>
<li>错误推测法</li>
</ul>
<p>白盒测试</p>
<ul>
<li>语句覆盖</li>
<li>判定-条件覆盖</li>
</ul>
<h2 id="24-持续集成与tdd-test-driven-development"><a class="markdownIt-Anchor" href="#24-持续集成与tdd-test-driven-development"></a> 2.4 持续集成与TDD (Test Driven Development)</h2>
<p>test–&gt;code–&gt;refractor</p>
<p><strong>自动化测试</strong></p>
<ul>
<li>预留测试指令，使用重定向，批量测试</li>
</ul>
<h1 id="大富翁项目"><a class="markdownIt-Anchor" href="#大富翁项目"></a> 大富翁项目</h1>
<p>反思：</p>
<ol>
<li>数据结构的商讨</li>
</ol>
<p>确定数据结构的格式后，要澄清每个字段的作用，确保对数据执行操作时，相应的字段正确更新。</p>
<h1 id="附录"><a class="markdownIt-Anchor" href="#附录"></a> 附录</h1>
<h3 id="autosvnsh"><a class="markdownIt-Anchor" href="#autosvnsh"></a> <code>autosvn.sh</code></h3>
<p>自动将github仓库同步到svn的脚本。自己写着用的，正常使用需要满足条件：</p>
<ul>
<li>git clone不需要用户输入</li>
<li>svn已经在本地checkout</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># rm repo, clone the newest</span></span><br><span class="line"><span class="built_in">cd</span> ~/Workspace/software-engineering</span><br><span class="line">rm -rf hust-software-engineering</span><br><span class="line">git <span class="built_in">clone</span> git@github.com:npurson/hust-software-engineering.git</span><br><span class="line"><span class="built_in">cd</span> hust-software-engineering/</span><br><span class="line"></span><br><span class="line"><span class="comment"># check git log to check user</span></span><br><span class="line">msg=$(git <span class="built_in">log</span>| head -n 6| tail -n 5)</span><br><span class="line"></span><br><span class="line">name=<span class="string">&quot;su0&quot;</span></span><br><span class="line">pass=<span class="string">&quot;p0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$msg</span>&quot;</span> | grep <span class="string">&quot;gu1&quot;</span>)</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">                name=<span class="string">&quot;su1&quot;</span></span><br><span class="line">                pass=<span class="string">&quot;p1&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$msg</span>&quot;</span> | grep <span class="string">&quot;gu2&quot;</span>)</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">                name=<span class="string">&quot;su2&quot;</span></span><br><span class="line">                pass=<span class="string">&quot;p2&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cp to svn dir and commit</span></span><br><span class="line">rm -rf .git .gitignore</span><br><span class="line">svn cleanup ../sw2020</span><br><span class="line">cp -rp ./* ../sw2020/group2/</span><br><span class="line"><span class="built_in">cd</span> ../sw2020/group2</span><br><span class="line">svn add --force ./</span><br><span class="line">svn commit -m <span class="string">&quot;<span class="variable">$&#123;msg&#125;</span>&quot;</span> --username <span class="variable">$name</span> --password <span class="variable">$pass</span></span><br><span class="line">svn cleanup</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;msg&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="git2svnsh"><a class="markdownIt-Anchor" href="#git2svnsh"></a> <code>git2svn.sh</code></h3>
<p>更通用的git同步svn脚本</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment">########################################################################</span></span><br><span class="line"><span class="comment"># This shell script sync a git repo to a svn one</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Config the script in ./git2svn.conf</span></span><br><span class="line"><span class="comment">########################################################################</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># check software install</span></span><br><span class="line">NoSvn=0</span><br><span class="line">NoGit=0</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="subst">$(svn --version | grep <span class="string">&quot;command not found&quot;</span>)</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m svn not installed&quot;</span></span><br><span class="line">        NoSvn=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ -n <span class="string">&quot;<span class="subst">$(git --version | grep <span class="string">&quot;command not found&quot;</span>)</span>&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m git not installed&quot;</span></span><br><span class="line">        NoGit=1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$NoSvn</span> == 1 || <span class="variable">$NoGit</span> == 1 ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">unset</span> NoSvn</span><br><span class="line"><span class="built_in">unset</span> NoGit</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># check arg number</span></span><br><span class="line"><span class="comment"># ConfFile=git2svn.conf</span></span><br><span class="line">mode=<span class="string">&quot;none&quot;</span></span><br><span class="line">file=<span class="string">&quot;./.git2svn.conf&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$#</span> == 0 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        mode=<span class="string">&quot;prompt&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$#</span> == 1 &amp;&amp; (<span class="variable">$1</span> = <span class="string">&quot;--help&quot;</span> || <span class="variable">$1</span> = <span class="string">&quot;-h&quot;</span>) ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        mode=<span class="string">&quot;help&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;usage: git2svn.sh [-h] [-f FILE]&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;optional arguments:&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;  -h, --help              print this message&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;  -f, --file              specify a file to load as script config&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;example&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;-------&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;run with prompt :&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;  git2svn.sh&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;specify a config file, none interactive :&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;  git2svn.sh -f yourgit2svn.conf&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;It is recommanded to directly run this script first, since a wrong config format might crash the script.&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;config file format&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;-------------------&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;Git_Repo_Addr&gt;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;Git_Repo_Dir&gt;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;Svn_Repo_Addr&gt;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;Svn_Repo_Dir&gt;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&lt;UserNumber&gt;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;[User1_Git_Username]&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;[User1_Svn_Username]&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;[User1_Svn_Password]&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;[User2_Git_Username]&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;...&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$#</span> == 2 &amp;&amp; (<span class="variable">$1</span> = <span class="string">&quot;--file&quot;</span> || <span class="variable">$1</span> = <span class="string">&quot;-f&quot;</span>) ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        mode=<span class="string">&quot;file&quot;</span></span><br><span class="line">        file=<span class="string">&quot;<span class="variable">$2</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$mode</span> = <span class="string">&quot;none&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m incorrect parameter&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] use \&quot;<span class="variable">$0</span> -h\&quot; for help&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ready to load config file</span></span><br><span class="line">GitAddr=<span class="string">&quot;https://github.com&quot;</span></span><br><span class="line">DirInGit=<span class="string">&quot;./&quot;</span></span><br><span class="line">SvnAddr=<span class="string">&quot;https://subversion.apache.org&quot;</span></span><br><span class="line">DirInSvn=<span class="string">&quot;./&quot;</span></span><br><span class="line"></span><br><span class="line">UserNum=8</span><br><span class="line">GitNameTab=()</span><br><span class="line"><span class="comment"># GitPassTab=()</span></span><br><span class="line">SvnNameTab=()</span><br><span class="line">SvnPassTab=()</span><br><span class="line"></span><br><span class="line"><span class="comment"># test file existence</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$mode</span> = <span class="string">&quot;file&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] loading script configuration from <span class="variable">$&#123;file&#125;</span>&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">cat <span class="string">&quot;<span class="variable">$file</span>&quot;</span> &gt; /dev/null 2&gt;&amp;1</span><br><span class="line"><span class="keyword">if</span> [ $? != 0 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="keyword">if</span> [ <span class="variable">$mode</span> = <span class="string">&quot;file&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m failed to open <span class="variable">$file</span>&quot;</span></span><br><span class="line">                <span class="built_in">exit</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="comment"># read file to vars</span></span><br><span class="line">        i=0</span><br><span class="line">        n=1</span><br><span class="line">        <span class="comment"># cat &quot;$file&quot; | while read line # <span class="doctag">NOTE:</span> `while read` runs in sub shell, can&#x27;t modify a parent shell vars</span></span><br><span class="line">        <span class="keyword">while</span> (( <span class="variable">$i</span> &lt;= <span class="variable">$UserNum</span> ))</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">                line=$(sed -ne <span class="string">&quot;<span class="variable">$&#123;n&#125;</span>,<span class="variable">$&#123;n&#125;</span>p&quot;</span> <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$i</span> != 0 ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        GitNameTab[<span class="variable">$i</span>]=<span class="string">&quot;<span class="variable">$line</span>&quot;</span></span><br><span class="line"></span><br><span class="line">                        <span class="built_in">let</span> <span class="string">&quot;++n&quot;</span></span><br><span class="line">                        line=$(sed -ne <span class="string">&quot;<span class="variable">$&#123;n&#125;</span>,<span class="variable">$&#123;n&#125;</span>p&quot;</span> <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span>)</span><br><span class="line">                        SvnNameTab[<span class="variable">$i</span>]=<span class="string">&quot;<span class="variable">$line</span>&quot;</span></span><br><span class="line"></span><br><span class="line">                        <span class="built_in">let</span> <span class="string">&quot;++n&quot;</span></span><br><span class="line">                        line=$(sed -ne <span class="string">&quot;<span class="variable">$&#123;n&#125;</span>,<span class="variable">$&#123;n&#125;</span>p&quot;</span> <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span>)</span><br><span class="line">                        SvnPassTab[<span class="variable">$i</span>]=<span class="string">&quot;<span class="variable">$line</span>&quot;</span></span><br><span class="line">                        <span class="built_in">let</span> <span class="string">&quot;++i&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$n</span> == 1 ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        GitAddr=<span class="string">&quot;<span class="variable">$line</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$n</span> == 2 ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        DirInGit=<span class="string">&quot;<span class="variable">$line</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$n</span> == 3 ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        SvnAddr=<span class="string">&quot;<span class="variable">$line</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$n</span> == 4 ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        DirInSvn=<span class="string">&quot;<span class="variable">$line</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$n</span> == 5 ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        UserNum=$((<span class="variable">$line</span>))</span><br><span class="line">                        i=1</span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">let</span> <span class="string">&quot;++n&quot;</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># prompt (read settings from stdin)</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$mode</span> = <span class="string">&quot;prompt&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;===================================&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] prompt script configs&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;===================================&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># read git addr</span></span><br><span class="line">        <span class="built_in">echo</span> -ne <span class="string">&quot;\e[34m[?]\e[0m Github repository address [<span class="variable">$GitAddr</span>] : &quot;</span></span><br><span class="line">        <span class="built_in">read</span> strGitAddr</span><br><span class="line">        <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$strGitAddr</span>&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                GitAddr=<span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$strGitAddr</span>&quot;</span>| sed -e &#x27;s/\/$//g&#x27;)</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] set GitAddr ==&gt; <span class="variable">$GitAddr</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="built_in">echo</span> -ne <span class="string">&quot;\e[34m[?]\e[0m storage dir in git repository [<span class="variable">$DirInGit</span>] : &quot;</span></span><br><span class="line">        <span class="built_in">read</span> strDirInGit</span><br><span class="line">        <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$strDirInGit</span>&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                DirInGit=./<span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$strDirInGit</span>&quot;</span>| sed -E &#x27;s/^[\/\.]&#123;0,2&#125;//g&#x27;)</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] set DirInGit ==&gt; <span class="variable">$DirInGit</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># read svn addr</span></span><br><span class="line">        <span class="built_in">echo</span> -ne <span class="string">&quot;\e[34m[?]\e[0m Svn repository address [<span class="variable">$SvnAddr</span>] : &quot;</span></span><br><span class="line">        <span class="built_in">read</span> strSvnAddr</span><br><span class="line">        <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$strSvnAddr</span>&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                SvnAddr=<span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$strSvnAddr</span>&quot;</span> | sed -e &#x27;s/\/$//g&#x27; )</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] set SvnAddr ==&gt; <span class="variable">$SvnAddr</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># read dir in svn</span></span><br><span class="line">        <span class="built_in">echo</span> -ne <span class="string">&quot;\e[34m[?]\e[0m storage dir in svn repository [<span class="variable">$DirInSvn</span>] : &quot;</span></span><br><span class="line">        <span class="built_in">read</span> strDirInSvn</span><br><span class="line">        <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$strDirInSvn</span>&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                DirInSvn=./<span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$strDirInSvn</span>&quot;</span>| sed -E &#x27;s/^[\/\.]&#123;0,2&#125;//g&#x27;)</span>&quot;</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] set DirInSvn ==&gt; <span class="variable">$DirInSvn</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># read user number</span></span><br><span class="line">        <span class="built_in">echo</span> -ne <span class="string">&quot;\e[34m[?]\e[0m git/svn user number [<span class="variable">$UserNum</span>] : &quot;</span></span><br><span class="line">        <span class="built_in">read</span> strUserNum</span><br><span class="line">        <span class="keyword">if</span> [ $((<span class="variable">$strUserNum</span>)) != 0 ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                UserNum=$((<span class="variable">$strUserNum</span>))</span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] set UserNum ==&gt; <span class="variable">$UserNum</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># read each user&#x27;s info</span></span><br><span class="line">        i=1</span><br><span class="line">        <span class="keyword">while</span> (( i &lt;= <span class="variable">$UserNum</span> ))</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] User <span class="variable">$i</span>&#x27;s config&quot;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># read git username</span></span><br><span class="line">                <span class="built_in">echo</span> -ne <span class="string">&quot;  \e[34m[?]\e[0m Git user <span class="variable">$i</span>&#x27;s username [<span class="variable">$&#123;GitNameTab[$i]&#125;</span>] : &quot;</span></span><br><span class="line">                <span class="built_in">read</span> strGitName</span><br><span class="line">                <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$strGitName</span>&quot;</span> ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        GitNameTab[<span class="variable">$i</span>]=<span class="string">&quot;<span class="variable">$strGitName</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;  \e[0m[*] set Git user <span class="variable">$i</span> ==&gt; <span class="variable">$&#123;GitNameTab[$i]&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># read svn username</span></span><br><span class="line">                <span class="built_in">echo</span> -ne <span class="string">&quot;  \e[34m[?]\e[0m Svn user <span class="variable">$i</span>&#x27;s username [<span class="variable">$&#123;SvnNameTab[$i]&#125;</span>] : &quot;</span></span><br><span class="line">                <span class="built_in">read</span> strSvnName</span><br><span class="line">                <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$strSvnName</span>&quot;</span> ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        SvnNameTab[<span class="variable">$i</span>]=<span class="string">&quot;<span class="variable">$strSvnName</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;  \e[0m[*] set Svn user <span class="variable">$i</span> ==&gt; <span class="variable">$&#123;SvnNameTab[$i]&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># read svn password</span></span><br><span class="line">                <span class="built_in">echo</span> -ne <span class="string">&quot;  \e[34m[?]\e[0m Svn user <span class="variable">$i</span>&#x27;s password [<span class="variable">$&#123;SvnPassTab[$i]&#125;</span>] : &quot;</span></span><br><span class="line">                <span class="built_in">read</span> strSvnPass</span><br><span class="line">                <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="variable">$strSvnPass</span>&quot;</span> ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        SvnPassTab[<span class="variable">$i</span>]=<span class="string">&quot;<span class="variable">$strSvnPass</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;  \e[0m[*] set Svn password <span class="variable">$i</span> ==&gt; <span class="variable">$&#123;SvnPassTab[$i]&#125;</span>&quot;</span></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$i</span> != <span class="variable">$UserNum</span> ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">                <span class="built_in">let</span> <span class="string">&quot;++i&quot;</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[32m[*]\e[0m <span class="subst">$(( $i - 1 )</span>) user(s) configured&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[32m[+]\e[0m script config saved to <span class="variable">$file</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># save info to file</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$GitAddr</span>&quot;</span> &gt; <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DirInGit</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$file</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$SvnAddr</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$DirInSvn</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$file</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$UserNum</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">        i=1</span><br><span class="line">        <span class="keyword">while</span> (( <span class="variable">$i</span> &lt;= <span class="variable">$UserNum</span> ))</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;GitNameTab[$i]&#125;</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;SvnNameTab[$i]&#125;</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span></span><br><span class="line">                <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;SvnPassTab[$i]&#125;</span>&quot;</span> &gt;&gt; <span class="string">&quot;<span class="variable">$&#123;file&#125;</span>&quot;</span></span><br><span class="line">                <span class="built_in">let</span> <span class="string">&quot;++i&quot;</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># prompt info statistic</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[!]\e[0m script ready to excute&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;script configs&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;==============&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;Name\e[50D\e[16Cvalue&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;-----\e[50D\e[16C------&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;GitAddr\e[50D\e[16C<span class="variable">$&#123;GitAddr&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;DirInGit\e[50D\e[16C<span class="variable">$&#123;DirInGit&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;SvnAddr\e[50D\e[16C<span class="variable">$&#123;SvnAddr&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;DirInSvn\e[50D\e[16C<span class="variable">$&#123;DirInSvn&#125;</span>&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        i=0</span><br><span class="line">        <span class="keyword">while</span> (( <span class="variable">$i</span> &lt;= <span class="variable">$UserNum</span> ))</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">                <span class="keyword">if</span> [ <span class="variable">$i</span> == 0  ]</span><br><span class="line">                <span class="keyword">then</span></span><br><span class="line">                        <span class="built_in">echo</span> <span class="string">&quot;----------------------------------------------------&quot;</span></span><br><span class="line">                        <span class="built_in">echo</span> -e <span class="string">&quot;Git Username\e[50D\e[24CSvn Username\e[50D\e[40CSvn Password&quot;</span></span><br><span class="line">                        <span class="built_in">echo</span> <span class="string">&quot;----------------------------------------------------&quot;</span></span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                        <span class="built_in">echo</span> -e <span class="string">&quot;<span class="variable">$&#123;GitNameTab[$i]&#125;</span>\e[50D\e[24C<span class="variable">$&#123;SvnNameTab[$i]&#125;</span>\e[50D\e[40C<span class="variable">$&#123;SvnPassTab[$i]&#125;</span>&quot;</span></span><br><span class="line">                <span class="keyword">fi</span></span><br><span class="line">                <span class="built_in">let</span> <span class="string">&quot;++i&quot;</span></span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">echo</span> -ne <span class="string">&quot;\e[34m[?]\e[0m execute script ? [y/n] : &quot;</span></span><br><span class="line">        <span class="built_in">read</span> strexec</span><br><span class="line">        <span class="keyword">while</span> [[ <span class="variable">$strexec</span> != <span class="string">&quot;n&quot;</span> &amp;&amp; <span class="variable">$strexec</span> != <span class="string">&quot;N&quot;</span> &amp;&amp; <span class="variable">$strexec</span> != <span class="string">&quot;y&quot;</span> &amp;&amp; <span class="variable">$strexec</span> != <span class="string">&quot;Y&quot;</span> ]]</span><br><span class="line">        <span class="keyword">do</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m input \&quot;y\&quot; or \&quot;n\&quot; to continue&quot;</span></span><br><span class="line">                <span class="built_in">echo</span> -ne <span class="string">&quot;\e[34m[?]\e[0m execute script ? [y/n] : &quot;</span></span><br><span class="line">                <span class="built_in">read</span> strexec</span><br><span class="line">        <span class="keyword">done</span></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="variable">$strexec</span> = <span class="string">&quot;n&quot;</span> || <span class="variable">$strexec</span> = <span class="string">&quot;N&quot;</span> ]]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] script exit on user input&quot;</span></span><br><span class="line">                <span class="built_in">exit</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># check user-specified file contents</span></span><br><span class="line">TabLen=<span class="variable">$&#123;#GitNameTab[*]&#125;</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$mode</span> = <span class="string">&quot;file&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="comment"># check config format</span></span><br><span class="line">        <span class="keyword">if</span> [ <span class="variable">$TabLen</span> != <span class="variable">$UserNum</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m user number error in <span class="variable">$file</span>&quot;</span></span><br><span class="line">                <span class="built_in">exit</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> [[ <span class="variable">$TabLen</span> == <span class="variable">$&#123;#SvnNameTab[*]&#125;</span> &amp;&amp; <span class="variable">$TabLen</span> == <span class="variable">$&#123;#SvnPassTab[*]&#125;</span> ]]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[32m[+]\e[0m configuration loaded from <span class="variable">$file</span>&quot;</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m number of user names does not equal that of passwords&quot;</span></span><br><span class="line">                <span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[-] wrong format in <span class="variable">$file</span>&quot;</span></span><br><span class="line">                <span class="built_in">exit</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># execute</span></span><br><span class="line">GitDir=<span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$DirInGit</span>&quot;</span> | sed -E <span class="string">&quot;s/^[\.\/]&#123;0,2&#125;//g&quot;</span>)</span>&quot;</span></span><br><span class="line">SvnDir=<span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$DirInSvn</span>&quot;</span> | sed -E <span class="string">&quot;s/^[\.\/]&#123;0,2&#125;//g&quot;</span>)</span>&quot;</span></span><br><span class="line">name=<span class="string">&quot;&quot;</span></span><br><span class="line">pass=<span class="string">&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">rm -rf ./.git2svn.cache/git-repo 2&gt;/dev/null</span><br><span class="line">mkdir -p ./.git2svn.cache/git-repo 2&gt;/dev/null</span><br><span class="line"><span class="built_in">echo</span> -ne <span class="string">&quot;\n\e[0m[*] git: &quot;</span></span><br><span class="line">git <span class="built_in">clone</span> <span class="string">&quot;<span class="variable">$GitAddr</span>&quot;</span> ./.git2svn.cache/git-repo</span><br><span class="line"><span class="keyword">if</span> [ $? != 0 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m git: :/&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[32m[+]\e[0m git: clone finished&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> <span class="string">&quot;./.git2svn.cache/git-repo/&quot;</span></span><br><span class="line">msg=<span class="string">&quot;<span class="subst">$(git log |head -n 6 |tail -n 5)</span>&quot;</span></span><br><span class="line">rm -rf .git .gitignore 2&gt;/dev/null</span><br><span class="line"></span><br><span class="line"><span class="comment"># determine name and pass for svn repo</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> `seq 1 <span class="variable">$TabLen</span>`</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> [ -n <span class="string">&quot;<span class="subst">$(echo <span class="string">&quot;<span class="variable">$msg</span>&quot;</span> | grep <span class="string">&quot;<span class="variable">$&#123;GitNameTab[$i]&#125;</span>&quot;</span>)</span>&quot;</span> ]</span><br><span class="line">        <span class="keyword">then</span></span><br><span class="line">                        name=<span class="string">&quot;<span class="variable">$&#123;SvnNameTab[$i]&#125;</span>&quot;</span></span><br><span class="line">                        pass=<span class="string">&quot;<span class="variable">$&#123;SvnPassTab[$i]&#125;</span>&quot;</span></span><br><span class="line">                        <span class="built_in">break</span></span><br><span class="line">        <span class="keyword">fi</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ -z <span class="variable">$name</span> &amp;&amp; -z <span class="variable">$pass</span> ]]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m can&#x27;t determine svn user from git log&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[32m[*]\e[0m found &#x27;&quot;</span><span class="variable">$&#123;GitNameTab[$i]&#125;</span><span class="string">&quot;&#x27; in git log&quot;</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[32m[+]\e[0m set SvnUser ==&gt; &quot;</span><span class="variable">$name</span><span class="string">&quot;\n&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line">rm -rf ../svn-repo 2&gt;/dev/null</span><br><span class="line">mkdir ../svn-repo 2&gt;/dev/null</span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\e[0m[*] svn: checking out &#x27;&quot;</span><span class="variable">$SvnAddr</span><span class="string">&quot;&#x27; as &#x27;&quot;</span><span class="variable">$name</span><span class="string">&quot;&#x27;&quot;</span></span><br><span class="line">svnmsg=<span class="string">&quot;<span class="subst">$(svn checkout <span class="string">&quot;<span class="variable">$SvnAddr</span>&quot;</span> ../svn-repo --username <span class="string">&quot;<span class="variable">$name</span>&quot;</span> --password <span class="string">&quot;<span class="variable">$pass</span>&quot;</span> | grep <span class="string">&quot;Checked out&quot;</span>)</span>&quot;</span></span><br><span class="line"><span class="keyword">if</span> [ $? == 0 ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[32m[+]\e[0m svn: <span class="variable">$svnmsg</span>\n&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> -e <span class="string">&quot;\e[31m[-]\e[0m svn: :/&quot;</span></span><br><span class="line">        <span class="built_in">exit</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cp -rp <span class="string">&quot;./<span class="variable">$GitDir</span>&quot;</span> <span class="string">&quot;../svn-repo/<span class="variable">$SvnDir</span>&quot;</span></span><br><span class="line"><span class="built_in">cd</span> <span class="string">&quot;../svn-repo/<span class="variable">$SvnDir</span>&quot;</span></span><br><span class="line">svn add --force ./</span><br><span class="line"><span class="comment"># echo -e &quot;\e[0m[*] svn: &quot;</span></span><br><span class="line">svn commit -m <span class="string">&quot;<span class="variable">$msg</span>&quot;</span> --username <span class="string">&quot;<span class="variable">$name</span>&quot;</span> --password <span class="string">&quot;<span class="variable">$pass</span>&quot;</span></span><br><span class="line">svn cleanup</span><br><span class="line"></span><br><span class="line"><span class="comment"># echo $name $pass</span></span><br><span class="line"><span class="comment"># echo &quot;$msg&quot;</span></span><br><span class="line"><span class="comment"># echo end</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>知识</category>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>软件工程</tag>
        <tag>敏捷开发</tag>
        <tag>Scrum</tag>
      </tags>
  </entry>
  <entry>
    <title>linux初步</title>
    <url>/2020/10/16/%E7%9F%A5%E8%AF%86/%E8%AE%A1%E7%AE%97%E6%9C%BA/linux/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>linux初步课程笔记（草稿）</p>
<a id="more"></a>
<h1 id="linux初步"><a class="markdownIt-Anchor" href="#linux初步"></a> linux初步</h1>
<h2 id="1-课程要求"><a class="markdownIt-Anchor" href="#1-课程要求"></a> 1 课程要求</h2>
<h3 id="11-教学目的"><a class="markdownIt-Anchor" href="#11-教学目的"></a> 1.1 教学目的</h3>
<ul>
<li>熟练使用linux</li>
<li>了解linux运作，理解内核与外围的关系</li>
<li>实验定制内核与外围文件系统，加深对开源操作系统的认识</li>
<li>输出，自启动最小系统Kernel+FS小于32M</li>
</ul>
<h3 id="12-实验安排"><a class="markdownIt-Anchor" href="#12-实验安排"></a> 1.2 实验安排</h3>
<ol>
<li>完成外围FS定制</li>
<li>内核定制</li>
<li>OS loader的安装应用</li>
</ol>
<h2 id="2-内容"><a class="markdownIt-Anchor" href="#2-内容"></a> 2 内容</h2>
<h3 id="21-power-on"><a class="markdownIt-Anchor" href="#21-power-on"></a> 2.1 Power on</h3>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">DOS</th>
<th style="text-align:center">Windows</th>
<th style="text-align:center">Linux</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">BIOS</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">MBR/GPT</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
<td style="text-align:center">–</td>
</tr>
<tr>
<td style="text-align:center">OS Loader</td>
<td style="text-align:center">–</td>
<td style="text-align:center">NTLDR/BootMgr</td>
<td style="text-align:center">grub/grub2</td>
</tr>
<tr>
<td style="text-align:center">OS kernel</td>
<td style="text-align:center"><code>IO.SYS</code> <code>MSDOS.SYS</code></td>
<td style="text-align:center"><code>ntoskrnl.exe</code></td>
<td style="text-align:center">vimlinuz</td>
</tr>
<tr>
<td style="text-align:center">Application Manager</td>
<td style="text-align:center"><code>command.com</code></td>
<td style="text-align:center"><code>explorer.exe</code></td>
<td style="text-align:center">init/systemd</td>
</tr>
<tr>
<td style="text-align:center">Applications</td>
<td style="text-align:center">…</td>
<td style="text-align:center">…</td>
<td style="text-align:center">…</td>
</tr>
</tbody>
</table>
<p>实验：</p>
<ul>
<li>安装linux
<ul>
<li>英文缺省字体</li>
</ul>
</li>
<li>ssh远程登录</li>
<li>查找文件位置</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center"></th>
<th style="text-align:center">ubuntu 1804.5</th>
<th style="text-align:center">CentOS 6.9</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">OS Loader</td>
<td style="text-align:center"><code>/boot/grub</code></td>
<td style="text-align:center"><code>/boot/grub</code></td>
</tr>
<tr>
<td style="text-align:center">OS Loader 配置</td>
<td style="text-align:center"><code>/boot/grub/grub.cfg</code>, <code>/etc/default/grub</code></td>
<td style="text-align:center"><code>/boot/grub.conf</code></td>
</tr>
<tr>
<td style="text-align:center">内核</td>
<td style="text-align:center"><code>/vmlinuz</code> -&gt; <code>/boot/vmlinuz-x.x.x-xxx-amd64</code></td>
<td style="text-align:center"><code>/boot/vmlinuz-$(uname -r)</code></td>
</tr>
<tr>
<td style="text-align:center">应用管理器</td>
<td style="text-align:center"><code>/sbin/init</code> -&gt; <code>/lib/systemd/systemd</code></td>
<td style="text-align:center"><code>/sbin/init</code></td>
</tr>
</tbody>
</table>
<p>小结</p>
<ul>
<li>Makefile，autoconfig，……</li>
<li>virtual network editing: VMware, virt-manager</li>
</ul>
<h3 id="22-acess-file"><a class="markdownIt-Anchor" href="#22-acess-file"></a> 2.2 Acess file</h3>
<h4 id="驱动从哪儿来"><a class="markdownIt-Anchor" href="#驱动从哪儿来"></a> 驱动从哪儿来？</h4>
<figure class="highlight txt"><table><tr><td class="code"><pre><span class="line">+------------------+      </span><br><span class="line">|  disk            |    </span><br><span class="line">|      +-------+   |    driver  + - - -+      +-------+				</span><br><span class="line">|      |files  |   |----x-x-x--&gt;|driver|-----&gt;|kernel |</span><br><span class="line">|      +-------+   |    files   +- - - +      +-------+</span><br><span class="line">|      |driver |   |</span><br><span class="line">|      |files  |   |</span><br><span class="line">|      + - - - +   |</span><br><span class="line">|                  |</span><br><span class="line">+------------------+</span><br></pre></td></tr></table></figure>
<h4 id="initrdimginitramfsimg"><a class="markdownIt-Anchor" href="#initrdimginitramfsimg"></a> <code>initrd.img</code>/<code>initramfs.img</code></h4>
<p>OS Loader载入的镜像文件，一个临时的RAM Disk根文件系统</p>
<p><code>initrd.img</code>加载后，执行<code>init</code>：</p>
<ul>
<li>加载必要的驱动
<ul>
<li>磁盘控制器驱动</li>
<li>文件系统驱动（ext3/ext4, …）</li>
</ul>
</li>
<li>查找OS Loader传给内核的参数<code>/proc/cmdline</code>，根据<code>root=xxxx</code>挂载真正的根文件系统（内核2.6以后）
<ul>
<li><code>root=/sda1</code> 插口位置改变?</li>
<li><code>root=LABEL=/</code> 两个/硬盘?</li>
<li><code>root=UUID=xxxx-xxxx-...-xxxx</code></li>
</ul>
</li>
<li>切换根文件系统</li>
<li><code>exec /sbin/init</code></li>
</ul>
<p><code>initrd.img</code>的打包方式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># low kernel version</span></span><br><span class="line">dd <span class="keyword">if</span>=/dev/zero of=filename bs=1M count=4</span><br><span class="line">mkfs.ext2 filename</span><br><span class="line">mount filename /mnt -o loop</span><br><span class="line"><span class="comment"># do anything to copy file into /mnt</span></span><br><span class="line">umount /mnt</span><br><span class="line">cat filename | gzip &gt; initrd.img</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># higher kernel version</span></span><br><span class="line">mkdir tmpdir</span><br><span class="line"><span class="comment"># do anything to copy file into tmpdir</span></span><br><span class="line"><span class="built_in">cd</span> tmpdir</span><br><span class="line">find . | cpio -H newc -o | gzip &gt; /boot/initrd.img</span><br></pre></td></tr></table></figure>
<h4 id="sbininit"><a class="markdownIt-Anchor" href="#sbininit"></a> /sbin/init</h4>
<p><code>ps -eaf</code><br />
<code>ps -axj</code></p>
<p>实验返工</p>
<ul>
<li>解包initramfs</li>
<li>LVM -&gt; raw disk</li>
</ul>
<h3 id="23-v05"><a class="markdownIt-Anchor" href="#23-v05"></a> 2.3 v0.5</h3>
<p>定制FS的思路</p>
<ul>
<li>在原有系统测试</li>
<li>复制原有系统的必备部件到新存储器</li>
<li>利用initrd.img在ram disk中测试</li>
</ul>
<p>难题</p>
<ul>
<li>应用程序及其依赖的动态库查询
<ul>
<li><code>ldd</code>(<code>ld-linux-x86_64.so.2</code>/<code>ld.so --library-path=$PATH $instr</code>指定动态库目录)</li>
<li><code>chroot</code>验证新环境是否完备: <code>chroot . /bin/bash</code></li>
</ul>
</li>
<li>应用程序及其依赖的配置文件
<ul>
<li><code>man $app</code>的FILES章节</li>
<li><code>strace</code>命令（输出到stderr）获得程序调用历史：<code>strace ls 2&gt;&amp;1 | grep open</code> (Advanced Programming in Unix Enviroment)</li>
</ul>
</li>
</ul>
<p>实验</p>
<ul>
<li>利用initrd建立最简单FS，v0.5</li>
<li>grub启动配置中增加入口，测试v0.5</li>
</ul>
<h3 id="24"><a class="markdownIt-Anchor" href="#24"></a> 2.4</h3>
<ul>
<li>构建便捷实验通路：小系统/标准系统</li>
<li>小系统访问标准系统的途径
<ul>
<li>修改标准系统<code>initramfs.img</code></li>
<li>手工加载驱动<code>insmod</code>/<code>modprobe</code> v0.55
<ul>
<li>where: <code>/lib/modules/VERSION</code></li>
<li>who: <code>lsmod</code>查看标准系统使用的驱动</li>
<li>how: <code>/lib/modules.dep</code>(run <code>depmod</code>) + <code>insmod</code>/<code>modprobe</code></li>
</ul>
</li>
<li>自动加载驱动<code>udevd</code> v0.6
<ul>
<li>内核接口<code>proc</code>、<code>/sys</code>（手动）</li>
<li>规则和工具<code>/etc/udev</code>，<code>/lib/udev</code></li>
<li>维护<code>/dev</code>设备目录</li>
<li>启动脚本<code>start_udev</code></li>
<li>其他手工加载也需要的文件</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>内核提供的接口：<code>/proc</code>，<code>/sys</code>内存目录</p>
<ul>
<li><code>/proc/devices</code>，裸设备<code>/proc/bus/pci/devices</code></li>
</ul>
<h3 id="245"><a class="markdownIt-Anchor" href="#245"></a> 2.4.5</h3>
<ol>
<li>0.6 + cpdd mingetty, /init: mingetty; bash
<ul>
<li>停顿后出现bash，提示inappropriate ioctl(io ctrl) for device; no job ctrl</li>
<li>输入内容进入bash</li>
</ul>
</li>
<li>bash：mingetty命令
<ul>
<li>同上</li>
</ul>
</li>
<li>man mingetty，man tty，mingetty --loginprog=/bin/bash /dev/tty1，<br />
cat initrd/etc/issue xxx /r /m
<ul>
<li>直接效果同上</li>
</ul>
</li>
<li>加入init，同上
<ul>
<li>issue没有出现</li>
<li>标准系统直接执行，效果同上</li>
</ul>
</li>
</ol>
<p>猜测原因：</p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019045122.png" alt="20201019045122" /></p>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019045343.png" alt="20201019045343" /></p>
<p>先解决帐号验证login</p>
<ol>
<li>
<p>主系统bash多次login，bash和login进程数不叠加（<code>pstree</code>）</p>
</li>
<li>
<p>initrd bash(cpdd login之后): login，PAM failure</p>
</li>
<li>
<p>man login</p>
<ul>
<li>usrname check: root: /etc/securetty | others: /etc/{nologin,usertty}</li>
<li>password auth：/etc/passwd, /etc/shadow</li>
<li>auth方式：the PAM library</li>
<li><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019070442.png" alt="20201019070442" /></li>
</ul>
</li>
<li>
<p><code>man pam</code>; <code>vim /usr/share/doc/pam-$ver/*.txt</code></p>
<ul>
<li>see ch1 in The Linux-PAM System Administrators’ Guide</li>
<li><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019131235.png" alt="20201019131235" /></li>
</ul>
</li>
<li>
<p><code>cp --parents -dr</code>的隐患</p>
<ul>
<li>手动拷贝pam.d, OK</li>
<li>cpdd.sh使用-d拷贝/lib64/security，-x判断是否递归时，symlink始终不满足条件，且缺少实际的库文件  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># note that `which $unhidden_abusolute_path_file` output is same as input</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `find /lib64/security/*`; <span class="keyword">do</span> ./scripts/cpdd.sh <span class="variable">$file</span> ./myinitrd.0.7.0/ ; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li>
<p>直接运行login或whoami<br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019145128.png" alt="20201019145128" /></p>
<ul>
<li>root登录流程：type “root” -&gt; find <strong>uid</strong> for “root” -&gt; execute login as uid ?</li>
<li>whoami流程：get uid -&gt; 查找uid对应username？</li>
<li>执行id，解析不出name <img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019150201.png" alt="20201019150201" /></li>
</ul>
</li>
<li>
<p><strong>man nss; man nsswitch.conf</strong> (注意需要安装man和man-pages)</p>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019153300.png" alt="20201019153300" /></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `find /lib64/ | grep -E <span class="string">&#x27;libnss.*so.+&#x27;</span>`; <span class="keyword">do</span> ./scripts/cpdd.sh <span class="variable">$file</span> ./myinitrd.0.7.0/ ; <span class="keyword">done</span></span><br></pre></td></tr></table></figure>
<ol start="8">
<li>
<p>id和whoami正常工作，login仍然无法工作</p>
<ul>
<li>
<p><strong>strace 跟踪问题</strong><br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019155828.png" alt="20201019155828" /></p>
</li>
<li>
<p>低级错误：没有为login创建文件夹<code>mkdir -p /var/run</code></p>
</li>
<li>
<p>递归脚本也没拷贝的依赖？<code>cpdd.sh /lib64/libfreeblpriv3.so myinitrd.0.7.0</code></p>
</li>
<li>
<p>基本成功（还可以继续用strace查错）<br />
<img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201019161642.png" alt="20201019161642" /></p>
</li>
</ul>
</li>
<li>
<p><strong><code>ldd</code>的隐患</strong></p>
<ul>
<li><code>which ldd |xargs file</code> -&gt; ldd是shell脚本</li>
<li>实际是<code>objdump | grep NEEDED | cut xxxx</code>，即ldd无法列出非obj依赖？<br />
问题：libfreeblpriv3.so到底是个啥？为什么依赖递归脚本会漏掉？</li>
</ul>
</li>
</ol>
<h3 id="25"><a class="markdownIt-Anchor" href="#25"></a> 2.5</h3>
<p><code>sbin/init</code>之后</p>
<p>/etc/rc.sysinit</p>
<ul>
<li>probe mods</li>
<li>fsck 正常关机标志位</li>
<li>mount /proc /sys ,remout /</li>
<li></li>
</ul>
<p>/etc/rc</p>
<ul>
<li>start service</li>
</ul>
<p>/sbin/mingetty</p>
<ul>
<li>mingetty/agetty + login</li>
</ul>
<p>dlopen() &amp; libnss</p>
<h2 id="3-linux-kernel"><a class="markdownIt-Anchor" href="#3-linux-kernel"></a> 3 linux kernel</h2>
<p>kernel+modules(内核级功能)</p>
<ol>
<li>
<p>下载5.9.1源码<a href="https://kernel.org">tarball(xz)</a>，解压<code>tar -xJf $&#123;file&#125;.tar.xzi $ksrc</code></p>
</li>
<li>
<p>载入<code>/boot/config-$(uname -r)</code>作为内核配置：<code>make localmodconfig</code>, 出现输入提示后<code>^C</code></p>
<ul>
<li><code>$ksrc</code> 下存在<code>.config</code>时，默认载入<code>.config</code>而不是<code>/boot/config</code>?</li>
</ul>
</li>
<li>
<p><code>make memuconfig</code>，genereal -&gt; <code>kernel compress mode: XZ</code>（better than gz），save（应用缺省值）</p>
<ul>
<li>缺少依赖: <code>ncurses-devel</code>, <code>open-ssl</code></li>
</ul>
</li>
<li>
<p><code>make -j8</code>, ksize: 4.9M</p>
<ul>
<li>gcc版本过低  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yum install -y centos-release-scl</span><br><span class="line">yum install -y devtoolset-9-gcc devtoolset-9-gcc-c++ devtoolset-9-binutils</span><br><span class="line">. /opt/rh/devtoolset-9/<span class="built_in">enable</span></span><br></pre></td></tr></table></figure>
</li>
<li>缺少依赖: <code>bc</code>, <code>elfutils-libelf-devel</code></li>
</ul>
</li>
<li>
<p>general -&gt; <code>[ ] include all symbols in kallsyms</code>, <code>make -j8</code>, ksize: 4.7M</p>
<ul>
<li>gcc9 <code>make menuconfig</code>出错？换回gcc4.4执行</li>
<li>取消多种initramfs的支持，ksize仍然4.7M</li>
</ul>
</li>
<li>
<p>fs -&gt; <code>[ ] network fs; [ ] ext2/4 security labels</code> ; sec opts -&gt; <code>[ ] en diff sec mods; [ ] en sec fs; [ ] rm kmap in u mod</code>  ksize: 4.0M</p>
</li>
</ol>
]]></content>
      <categories>
        <category>知识</category>
        <category>计算机</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>通信电子线路</title>
    <url>/2020/10/22/%E7%9F%A5%E8%AF%86/%E7%94%B5%E8%B7%AF/%E9%80%9A%E4%BF%A1%E7%94%B5%E5%AD%90%E7%BA%BF%E8%B7%AF/</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><p>通信电子线路笔记</p>
<a id="more"></a>
<h3 id="ch2"><a class="markdownIt-Anchor" href="#ch2"></a> ch2</h3>
<p><img src="https://raw.githubusercontent.com/144026/rsrc/master/img/20201022072217.png" alt="20201022072217" /></p>
]]></content>
      <categories>
        <category>知识</category>
        <category>电路</category>
      </categories>
      <tags>
        <tag>电路理论</tag>
        <tag>模拟电路</tag>
        <tag>高频</tag>
      </tags>
  </entry>
  <entry>
    <title>categories</title>
    <url>/categories/index.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
  </entry>
  <entry>
    <title>tags</title>
    <url>/tags/index.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
  </entry>
  <entry>
    <title></title>
    <url>/README.html</url>
    <content><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><h1 id="readme"><a class="markdownIt-Anchor" href="#readme"></a> README</h1>
<p>Just a personal website, nothing but some backup of notes (and some creepy stuff).<br />
Sorry but NO issue or pull request would be accepted, please understand.</p>
]]></content>
  </entry>
</search>
